!function(e){function t(t){for(var a,o,s=t[0],i=t[1],d=t[2],u=0,b=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(l&&l(t);b.length;)b.shift()();return c.push.apply(c,d||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],a=!0,s=1;s<r.length;s++){var i=r[s];0!==n[i]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},c=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-record/";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=i;c.push([0,"chunk-vendors"]),r()}({0:function(e,t,r){e.exports=r("cd49")},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=c(e);return r(t)}function c(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=c,e.exports=n,n.id="4678"},8976:function(e,t,r){},"90eb":function(e,t,r){"use strict";r("8976")},a41b:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n=(r("99af"),{class:"bg-gray-400 lg:p-4 p-1 min-h-screen"}),c={key:0,class:"bg-white p-8 rounded"},o=Object(a.g)('<div class="flex-1 space-y-2 py-1"><div class="h-4 bg-gray-300 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-300 rounded"></div><div class="h-4 bg-gray-300 rounded w-5/6"></div></div></div>',1),s={key:1,class:"bg-white rounded lg:p-4 p-2"},i={class:"flex mb-8"},d=Object(a.h)("div",{class:"border border-r-0 px-4 p-3 whitespace-no-wrap bg-gray-700 text-white rounded-l"},"選擇年份",-1),l=Object(a.h)("option",{value:""},"全部",-1),u={key:0},b={class:"text-2xl text-center"},f={key:1},j=Object(a.h)("h2",{class:"text-2xl text-center"},"總共",-1),p={class:"lg:flex items-start my-8"},O={class:"lg:w-1/2 lg:mb-0 mb-4 lg:p-4 p-0"},v={class:"lg:w-1/2 lg:p-4 p-0"},h=Object(a.h)("h4",{class:"text-center mb-2"},"二刷以上的電影",-1),y={class:"lg:flex items-center"},m={class:"mr-2"},g={class:"text-xl text-red-600"};r("4de4"),r("7db0"),r("d81d"),r("b64b");var x=r("16ce"),w=r("6edf"),k=r.n(w),C=r("5a0c"),A=r.n(C),M=r("5087"),_=r.n(M),L=r("04ee"),q=r.n(L),D=r("7e21"),z=r.n(D),Y=r("5e77"),B=r.n(Y),S=r("8d82"),I=r.n(S);function R(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return A()(e).format(t?"YYYY/MM/DD HH:mm":"YYYY/MM/DD")}A.a.locale(_.a),A.a.extend(q.a),A.a.extend(z.a),A.a.extend(B.a),A.a.extend(I.a),r("d3b7");var H=Object(a.G)("data-v-645c2e9e");Object(a.r)("data-v-645c2e9e");var T={class:"my-4 text-center"},E={class:"lg:flex items-center my-8"},P={class:"lg:w-1/2 lg:mb-0 mb-4 lg:p-4 p-0"},G={class:"lg:w-1/2 lg:p-4 p-0"},F={class:"lg:flex items-center my-8"},W={class:"lg:w-1/2 lg:mb-0 mb-4 lg:p-4 p-0"},J={class:"lg:w-1/2 lg:p-4 p-0"},N={class:"my-4"};Object(a.q)();var U=H((function(e,t,r,n,c,o){var s=Object(a.w)("ContributionChart"),i=Object(a.w)("TotalAnalytics"),d=Object(a.w)("AreaPieChart"),l=Object(a.w)("TheaterPieChart"),u=Object(a.w)("FrequencyBarChart"),b=Object(a.w)("VersionBarChart"),f=Object(a.w)("TimeHeatmapChart");return Object(a.p)(),Object(a.e)(a.a,null,[e.hideContributionChart?Object(a.f)("",!0):(Object(a.p)(),Object(a.e)(s,{key:0,id:"js-contribution-".concat(e.id),class:"my-4",records:e.records},null,8,["id","records"])),Object(a.h)("div",T,[Object(a.h)(i,{records:e.records},null,8,["records"])]),Object(a.h)("div",E,[Object(a.h)("div",P,[Object(a.h)(d,{id:"js-area-pie-".concat(e.id),records:e.records},null,8,["id","records"])]),Object(a.h)("div",G,[Object(a.h)(l,{id:"js-theater-pie-".concat(e.id),records:e.records},null,8,["id","records"])])]),Object(a.h)("div",F,[Object(a.h)("div",W,[Object(a.h)(u,{id:"js-frequency-".concat(e.id),records:e.records},null,8,["id","records"])]),Object(a.h)("div",J,[Object(a.h)(b,{id:"js-version-".concat(e.id),records:e.records},null,8,["id","records"])])]),Object(a.h)("div",N,[Object(a.h)(f,{id:"js-heatmap-".concat(e.id),records:e.records},null,8,["id","records"])])],64)})),V=Object(a.G)("data-v-198b9b6e");Object(a.r)("data-v-198b9b6e");var $={class:"mx-auto relative"},X={class:"w-full overflow-x-auto"},K={class:"border rounded"},Q={class:"p-2 bg-gray-600 text-white rounded-t flex items-center justify-between"},Z=Object(a.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",role:"img",class:"iconify iconify--mdi",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",style:{transform:"rotate(360deg)"}},[Object(a.h)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z",fill:"currentColor"})],-1),ee={class:"px-2 rounded-b"},te={key:0,class:"p-2"},re=Object(a.h)("div",{class:"text-xs text-gray-400"},"這裡什麼都沒有唷",-1);Object(a.q)();var ae=V((function(e,t,r,n,c,o){var s=Object(a.w)("MovieRecordItem");return Object(a.p)(),Object(a.e)("div",$,[Object(a.h)("div",X,[(Object(a.p)(),Object(a.e)("svg",{id:e.id,width:62*e.rectWidth,height:10*e.rectWidth},null,8,["id","width","height"]))]),Object(a.F)(Object(a.h)("div",K,[Object(a.h)("div",Q,[Object(a.h)("div",null,Object(a.x)(e.formatDate(e.dayDetails.date,!1)),1),Object(a.h)("div",{class:"font-bold cursor-pointer text-xl",onClick:t[1]||(t[1]=function(t){return e.dayDetails.show=!1})},[Z])]),Object(a.h)("div",ee,[(Object(a.p)(!0),Object(a.e)(a.a,null,Object(a.u)(e.dayDetails.records,(function(e){return Object(a.p)(),Object(a.e)(s,{format:"HH:mm",key:"".concat(e.date,"_").concat(e.title),record:e},null,8,["record"])})),128)),e.dayDetails.records.length?Object(a.f)("",!0):(Object(a.p)(),Object(a.e)("div",te,[re]))])],512),[[a.B,e.dayDetails.show]])])})),ne=(r("cb29"),r("4160"),r("159b"),r("5530")),ce=r("2909"),oe=(r("96cf"),r("1da1")),se=r("5698"),ie=Object(a.G)("data-v-2e13e7be");Object(a.r)("data-v-2e13e7be");var de={class:"my-4"},le={class:"flex items-center"},ue={class:"inline-block font-bold mr-2"},be={class:"inline-block bg-gray-400 mr-2 rounded px-2 text-xs"},fe={class:"text-xs"},je={key:0,class:"mr-2"},pe={class:"text-xs text-gray-500"};Object(a.q)();var Oe=ie((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("div",de,[Object(a.h)("div",le,[Object(a.h)("div",ue,Object(a.x)(e.formatDateTime(e.record.date)),1),Object(a.h)("div",be,Object(a.x)(e.record.version),1),Object(a.h)("div",fe,Object(a.x)(e.record.theater),1)]),e.hideTitle?Object(a.f)("",!0):(Object(a.p)(),Object(a.e)("div",je,Object(a.x)(e.record.title),1)),Object(a.h)("div",pe,Object(a.x)(e.record.memo),1)])})),ve=Object(a.i)({props:{record:{type:Object,required:!0},format:{type:String,default:"YYYY/MM/DD HH:mm"},hideTitle:{type:Boolean,default:!1}},setup:function(e){return{formatDateTime:function(t){return A()(t).format(e.format)}}}});ve.render=Oe,ve.__scopeId="data-v-2e13e7be";var he=ve,ye=Object(a.i)({components:{MovieRecordItem:he},props:{id:{type:String,default:"js-contribution"},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return A()().month(t).format("MMM")})),r=Array(7).fill("").map((function(e,t){return A()().weekday(t).format("dd")})).filter((function(e,t){return t%2==1})),n=Object(a.c)((function(){var t=k()(e.records,(function(e){return A()(e.date).startOf("day").toISOString()})),r=[];return Object.keys(t).forEach((function(e){var a=A()(e).dayOfYear();r[a]={date:e,count:t[e].length,records:t[e]}})),r})),c=Object(a.s)({contributions:Object(a.c)((function(){var t=A()(e.records[0].date).startOf("year"),r=t.isLeapYear()?366:365,a=t.isoWeekday()%7;return Array(a).fill("").map((function(){return{date:"",value:-1,records:[]}})).concat(Array(r).fill("").map((function(e,r){var a,c,o,s,i=t.add(r,"day"),d=null!==(a=null===(c=n.value[r+1])||void 0===c?void 0:c.count)&&void 0!==a?a:0,l=null!==(o=null===(s=n.value[r+1])||void 0===s?void 0:s.records)&&void 0!==o?o:[];return{date:i.toISOString(),value:d,records:l}})))}))}),o=Object(a.s)({show:!1,date:"",records:[]});function s(){var a=se.d("#".concat(e.id)),n=a.append("g").attr("class","mainChart").attr("transform","translate(".concat(20,", ").concat(20,")")).selectAll("rect").data(c.contributions),s=se.b().domain([-1,0,1,2,3,4,5]).range(["#fff","#eee","#d6e685","#8cc665","#44a340","#1e6823"]);n.enter().append("rect").attr("height",15).attr("width",15).attr("fill",(function(e){return s(e.value)})).attr("y",(function(e,t){return t%7*17})).attr("x",(function(e,t){return 17*~~(t/7)})).attr("title",(function(e){return e.date})).attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",(function(e,t){t.value<0?o.show=!1:(o.show=!0,o.date=t.date,o.records=Object(ce.a)(t.records).reverse())})),a.append("g").attr("class","xAxis").selectAll("text").data(t).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return 17*t*4.333+32})).attr("y",12).style("text-anchor","middle").style("font-size",12),a.append("g").attr("class","yAxis").selectAll("text").data(r).enter().append("text").text((function(e){return e})).attr("y",(function(e,t){return 34*t+47})).attr("x",12).style("text-anchor","middle").style("font-size",12)}return Object(a.C)((function(){return c.contributions}),Object(oe.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.l)();case 2:s();case 3:case"end":return e.stop()}}),e)})))),Object(a.C)((function(){return o.show}),(function(e){e||(o.date="",o.records=[])})),Object(a.n)((function(){s()})),Object(ne.a)(Object(ne.a)({},Object(a.y)(c)),{},{rectWidth:15,dayDetails:o,formatDate:R})}});ye.render=ae,ye.__scopeId="data-v-198b9b6e";var me=ye,ge=Object(a.G)("data-v-fca27b88");Object(a.r)("data-v-fca27b88");var xe=Object(a.h)("h4",{class:"text-center"},"電影國別",-1);Object(a.q)();var we=ge((function(e,t,r,n,c,o){var s=Object(a.w)("PieChart");return Object(a.p)(),Object(a.e)(a.a,null,[xe,Object(a.h)(s,{id:e.id,data:e.dataset.data,labels:e.dataset.labels},null,8,["id","data","labels"])],64)})),ke=Object(a.G)("data-v-5df5941c")((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("canvas",{id:e.id},null,8,["id"])})),Ce=(r("13d5"),r("b680"),r("30ef")),Ae=r.n(Ce),Me=r("a9be"),_e=r.n(Me),Le=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 205, 86)","#81E6D9","#718096","#742A2A","#68D391","#2C5282","#6B46C1"];Ae.a.plugins.unregister(_e.a);var qe=Object(a.i)({props:{id:{type:String,required:!0},title:{type:String},data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup:function(e){var t=Object(a.t)(null),r=Object(x.c)("(min-width: 768px)");function n(){return c.apply(this,arguments)}function c(){return(c=Object(oe.a)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.l)();case 2:t.value&&t.value.clear(),c=document.getElementById(e.id).getContext("2d"),t.value=new Ae.a(c,{plugins:[_e.a],type:"pie",data:{datasets:[{data:e.data,backgroundColor:Le}],labels:e.labels},options:{responsive:!0,aspectRatio:r.value?1.5:e.labels.length>10?.7:1,title:{display:!!e.title,text:e.title},tooltips:{callbacks:{label:function(t,r){var a,n=t.index,c=e.data[n],o=c/e.data.reduce((function(e,t){return e+ +t}),0)*100;return"".concat(null===(a=r.labels)||void 0===a?void 0:a[n],": ").concat(c," (").concat(o.toFixed(0),"%)")}}},plugins:{datalabels:{color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(t){return t/e.data.reduce((function(e,t){return e+ +t}),0)*100<10?"":t}}}}});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.C)((function(){return e.data}),(function(){n()})),Object(a.n)((function(){n()})),{}}});qe.render=ke,qe.__scopeId="data-v-5df5941c";var De=qe,ze=Object(a.i)({components:{PieChart:De},props:{id:{type:String,default:"js-area-pie"},records:{type:Array,required:!0}},setup:function(e){var t=Object(a.c)((function(){return k()(e.records,(function(e){return e.area}))}));return{dataset:Object(a.s)({data:Object(a.c)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object(a.c)((function(){return Object.keys(t.value)}))})}}});ze.render=we,ze.__scopeId="data-v-fca27b88";var Ye=ze,Be=Object(a.G)("data-v-0385458d");Object(a.r)("data-v-0385458d");var Se=Object(a.h)("h4",{class:"text-center"},"影城",-1);Object(a.q)();var Ie=Be((function(e,t,r,n,c,o){var s=Object(a.w)("PieChart");return Object(a.p)(),Object(a.e)(a.a,null,[Se,Object(a.h)(s,{id:e.id,data:e.dataset.data,labels:e.dataset.labels},null,8,["id","data","labels"])],64)})),Re=Object(a.i)({components:{PieChart:De},props:{id:{type:String,default:"js-theater-pie"},records:{type:Array,required:!0}},setup:function(e){var t=Object(a.c)((function(){return k()(e.records,(function(e){return e.theater}))}));return{dataset:Object(a.s)({data:Object(a.c)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object(a.c)((function(){return Object.keys(t.value)}))})}}});Re.render=Ie,Re.__scopeId="data-v-0385458d";var He=Re,Te=Object(a.G)("data-v-4fcd3004");Object(a.r)("data-v-4fcd3004");var Ee=Object(a.h)("h4",{class:"text-center"},"各月看電影的次數",-1);Object(a.q)();var Pe=Te((function(e,t,r,n,c,o){var s=Object(a.w)("BarChart");return Object(a.p)(),Object(a.e)(a.a,null,[Ee,Object(a.h)(s,{id:e.id,data:e.data,labels:e.labels},null,8,["id","data","labels"])],64)})),Ge=Object(a.G)("data-v-e7808910")((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("canvas",{id:e.id},null,8,["id"])}));Ae.a.plugins.unregister(_e.a);var Fe=Object(a.i)({props:{id:{type:String,required:!0},data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:String}},setup:function(e){var t=Object(a.t)(null),r=Object(x.c)("(min-width: 768px)");function n(){return c.apply(this,arguments)}function c(){return(c=Object(oe.a)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.l)();case 2:t.value&&t.value.clear(),c=document.getElementById(e.id).getContext("2d"),t.value=new Ae.a(c,{plugins:[_e.a],type:"bar",data:{datasets:[{data:e.data,backgroundColor:Le}],labels:e.labels},options:{responsive:!0,aspectRatio:r.value?1.5:1,title:{display:!!e.title,text:e.title},legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}]},plugins:{datalabels:{textAlign:"start",align:"top",color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(e){return e>0?e:""}}}}});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.C)((function(){return e.data}),(function(){n()})),Object(a.n)((function(){n()})),{}}});Fe.render=Ge,Fe.__scopeId="data-v-e7808910";var We=Fe,Je=Object(a.i)({components:{BarChart:We},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return t})),r=Object(a.c)((function(){return k()(e.records,(function(e){return A()(e.date).month()}))})),n=Object(a.s)({data:Object(a.c)((function(){var e=Object.keys(r.value).map((function(e){return{month:+e,value:r.value[e].length}}));return t.map((function(t){var r,a;return null!==(r=null===(a=e.find((function(e){return e.month===t})))||void 0===a?void 0:a.value)&&void 0!==r?r:0}))})),labels:t.map((function(e){return A()().month(e).format("MMM")}))});return Object(ne.a)({},Object(a.y)(n))}});Je.render=Pe,Je.__scopeId="data-v-4fcd3004";var Ne=Je,Ue=Object(a.G)("data-v-22822d82");Object(a.r)("data-v-22822d82");var Ve=Object(a.h)("h4",{class:"text-center"},"各版本的次數",-1);Object(a.q)();var $e=Ue((function(e,t,r,n,c,o){var s=Object(a.w)("BarChart");return Object(a.p)(),Object(a.e)(a.a,null,[Ve,Object(a.h)(s,{id:e.id,data:e.data,labels:e.labels},null,8,["id","data","labels"])],64)})),Xe=Object(a.i)({components:{BarChart:We},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(a.c)((function(){return k()(e.records,(function(e){return e.version}))})),r=Object(a.s)({data:Object(a.c)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object.keys(t.value).map((function(e){return e}))});return Object(ne.a)({},Object(a.y)(r))}});Xe.render=$e,Xe.__scopeId="data-v-22822d82";var Ke=Xe,Qe=Object(a.G)("data-v-00281cbc");Object(a.r)("data-v-00281cbc");var Ze={class:"lg:flex items-start"},et={class:"lg:p-4 p-0 lg:w-1/2"},tt=Object(a.h)("h4",{class:"text-center"},"看電影的時間",-1),rt={class:"lg:mt-0 mt-2 lg:p-4 p-0 lg:w-1/2"},at={class:"border rounded"},nt={class:"p-2 bg-gray-600 text-white rounded-t flex items-center justify-between"},ct=Object(a.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",role:"img",class:"iconify iconify--mdi",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",style:{transform:"rotate(360deg)"}},[Object(a.h)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z",fill:"currentColor"})],-1),ot={class:"px-2 rounded-b"},st={key:0,class:"p-2"},it=Object(a.h)("div",{class:"text-xs text-gray-400"},"這裡什麼都沒有唷",-1);Object(a.q)();var dt=Qe((function(e,t,r,n,c,o){var s=Object(a.w)("MovieRecordItem");return Object(a.p)(),Object(a.e)("div",Ze,[Object(a.h)("div",et,[tt,(Object(a.p)(),Object(a.e)("svg",{id:e.id,class:"w-full",height:e.svgHeight},null,8,["id","height"]))]),Object(a.h)("div",rt,[Object(a.F)(Object(a.h)("div",at,[Object(a.h)("div",nt,[Object(a.h)("div",null,Object(a.x)(e.formatWeekDay(e.dayDetails.weekday))+" "+Object(a.x)(e.formatHour(e.dayDetails.hour)),1),Object(a.h)("div",{class:"font-bold cursor-pointer text-xl",onClick:t[1]||(t[1]=function(t){return e.dayDetails.show=!1})},[ct])]),Object(a.h)("div",ot,[(Object(a.p)(!0),Object(a.e)(a.a,null,Object(a.u)(e.dayDetails.records,(function(e){return Object(a.p)(),Object(a.e)(s,{format:"YYYY/MM/DD HH:mm",key:"".concat(e.date,"_").concat(e.title),record:e},null,8,["record"])})),128)),e.dayDetails.records.length?Object(a.f)("",!0):(Object(a.p)(),Object(a.e)("div",st,[it]))])],512),[[a.B,e.dayDetails.show]])])])})),lt=Object(a.i)({components:{MovieRecordItem:he},props:{id:{type:String,default:"js-heatmap"},records:{type:Array,required:!0}},setup:function(e){var t=10,r=20,n=20,c=45,o=528+t+n,s=o-t-n,i=Array(7).fill("").map((function(e,t){return A()().weekday(t).format("ddd")})),d=Object(x.d)().width,l=Object(x.b)(f,1e3),u=Object(a.s)({dataset:Object(a.c)((function(){var t=k()(e.records,(function(e){return A()(e.date).weekday()})),r=[];return Array(7).fill("").forEach((function(e,a){Array(24).fill("").forEach((function(e,n){var c,o,s=null===(c=t[a])||void 0===c?void 0:c.filter((function(e){return A()(e.date).isSame(A()(e.date).hour(n),"hour")})),i=null!==(o=null==s?void 0:s.length)&&void 0!==o?o:0;r.push({weekday:+a,hour:n,value:i,records:s})}))})),r}))}),b=Object(a.s)({show:!1,weekday:0,hour:0,records:[]});function f(){return j.apply(this,arguments)}function j(){return(j=Object(oe.a)(regeneratorRuntime.mark((function n(){var o,d,l,f,j,p,O,v,h,y,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.l)();case 2:se.e("#".concat(e.id," > *")).remove(),l=se.d("#".concat(e.id)),f=null==l||null===(o=l.node())||void 0===o||null===(d=o.getBoundingClientRect())||void 0===d?void 0:d.width,j=f-c-r,p=Math.floor(j/i.length),(O=l.append("g").attr("class","heatMap").attr("transform","translate(".concat(c,", ").concat(t,")"))).append("g").attr("class","dayLabel").selectAll("text").data(i).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return t*p+5})).attr("y",s+22*.7).style("text-anchor","middle").style("font-size",12).attr("transform","translate(".concat(p/2,", 0)")),v=se.c().domain([A()().startOf("day"),A()().add(1,"day").startOf("day")]).range([0,s]),h=se.a(v).ticks(24).tickFormat(se.f("%H:%M")),O.append("g").attr("class","timeLabel").call(h),y=se.b().domain([0,8]).range(["#eee","#d6e685","#8cc665","#44a340","#1e6823","#18541c","#134016","#0d2d0f"]),m=O.append("g").attr("class","rect").selectAll("rect").data(u.dataset).enter().append("rect").attr("x",(function(e){return e.weekday*p+5})).attr("y",(function(e){return 22*e.hour})).attr("weekday",(function(e){return e.weekday})).attr("hour",(function(e){return e.hour})).attr("rx",5).attr("ry",5).attr("width",p).attr("height",22).attr("stroke","#fff").attr("stroke-width","2px").style("fill","#eee").attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",(function(e,t){t.value<0?b.show=!1:(b.show=!0,b.weekday=t.weekday,b.hour=t.hour,b.records=t.records)})),O.append("g").selectAll("rect").data(u.dataset).enter().append("text").attr("x",(function(e){return e.weekday*p+p/2})).attr("y",(function(e){return 22*e.hour+11+5})).text((function(e){return e.value?e.value:""})).style("font-size",12).style("text-shadow","1px 1px #fff, -1px -1px #fff , 0 -1px #fff, -1px 0 #fff, 1px 0 #fff, 0 1px #fff").attr("fill","#000"),m.transition().duration(400).style("fill",(function(e){return y(e.value)}));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.C)((function(){return u.dataset}),(function(){f()})),Object(a.C)(d,(function(){l()})),Object(a.n)((function(){f()})),{svgHeight:o,dayDetails:b,formatDate:R,formatWeekDay:function(e){return A()().weekday(e).format("ddd")},formatHour:function(e){var t=A()().startOf("day");return t.hour(e).format("HH:mm")+"~"+t.hour(e+1).format("HH:mm")}}}});lt.render=dt,lt.__scopeId="data-v-00281cbc";var ut=lt,bt=Object(a.G)("data-v-15399268");Object(a.r)("data-v-15399268");var ft={class:"text-xs"};Object(a.q)();var jt=bt((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("div",ft," 看了 "+Object(a.x)(e.totalCount)+" 場電影，一共 "+Object(a.x)(e.totalTicks)+" 張電影票，花了 "+Object(a.x)(e.totalCost.toLocaleString())+" 新台幣 ",1)})),pt=Object(a.i)({props:{records:{type:Array,required:!0}},setup:function(e){var t=Object(a.s)({totalCount:Object(a.c)((function(){return e.records.length})),totalCost:Object(a.c)((function(){return e.records.reduce((function(e,t){return e+t.cost}),0)})),totalTicks:Object(a.c)((function(){return e.records.reduce((function(e,t){return e+t.tickets}),0)}))});return Object(ne.a)({},Object(a.y)(t))}});pt.render=jt,pt.__scopeId="data-v-15399268";var Ot=pt,vt=Object(a.i)({components:{ContributionChart:me,AreaPieChart:Ye,TheaterPieChart:He,FrequencyBarChart:Ne,VersionBarChart:Ke,TimeHeatmapChart:ut,TotalAnalytics:Ot},props:{id:{type:String,required:!0},records:{type:Array,required:!0},hideContributionChart:{type:Boolean,default:!1}},setup:function(){return{}}});vt.render=U,vt.__scopeId="data-v-645c2e9e";var ht=vt,yt=Object(a.G)("data-v-01562e24");Object(a.r)("data-v-01562e24");var mt=Object(a.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",role:"img",class:"iconify iconify--ph",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",style:{transform:"rotate(360deg)"}},[Object(a.h)("path",{d:"M96 220a12 12 0 0 1-8.485-20.485L159.029 128L87.515 56.485a12 12 0 0 1 16.97-16.97l80 80a12 12 0 0 1 0 16.97l-80 80A11.963 11.963 0 0 1 96 220z",fill:"currentColor"})],-1);Object(a.q)();var gt=yt((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("div",null,[Object(a.h)("div",{class:"flex items-center justify-between cursor-pointer px-2",onClick:t[1]||(t[1]=function(t){return e.show=!e.show})},[Object(a.v)(e.$slots,"title"),Object(a.h)("div",{class:["transition-transform duration-200 ease-linear",{"is-active":e.show}]},[mt],2)]),Object(a.h)(a.b,{name:"fade"},{default:yt((function(){return[Object(a.F)(Object(a.h)("div",null,[Object(a.v)(e.$slots,"default")],512),[[a.B,e.show]])]})),_:3})])})),xt=Object(a.i)({setup:function(){return{show:Object(a.t)(!1)}}});r("90eb"),xt.render=gt,xt.__scopeId="data-v-01562e24";var wt=xt,kt=Object(a.G)("data-v-79d95317")((function(e,t,r,n,c,o){return Object(a.p)(),Object(a.e)("canvas",{id:e.id},null,8,["id"])})),Ct=Object(a.i)({props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(a.t)(null),r=Object(x.c)("(min-width: 768px)"),n=Object(a.c)((function(){var t=k()(e.records,(function(e){return A()(e.date).year()}));return Object.keys(t).map((function(e){return{id:+e,records:t[e]}}))}));function c(){return o.apply(this,arguments)}function o(){return(o=Object(oe.a)(regeneratorRuntime.mark((function c(){var o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(a.l)();case 2:t.value&&t.value.clear(),o=document.getElementById(e.id).getContext("2d"),t.value=new Ae.a(o,{type:"bar",data:{datasets:[{type:"line",label:"總花費",data:n.value.map((function(e){return e.records.reduce((function(e,t){return e+t.cost}),0)})),borderColor:Le[0],backgroundColor:Le[0],fill:!1},{type:"line",label:"總票數",data:n.value.map((function(e){return e.records.reduce((function(e,t){return e+t.tickets}),0)})),borderColor:Le[3],backgroundColor:Le[3],fill:!1},{type:"line",label:"總場數",data:n.value.map((function(e){return e.records.length})),borderColor:Le[2],backgroundColor:Le[2],fill:!1},{type:"line",label:"平均每張票花費",data:n.value.map((function(e){var t=e.records;return+(t.reduce((function(e,t){return e+t.cost}),0)/t.reduce((function(e,t){return e+t.tickets}),0)).toFixed(2)||0})),borderColor:Le[1],backgroundColor:Le[1],fill:!1},{type:"line",label:"平均每次花費",data:n.value.map((function(e){var t=e.records;return+(t.reduce((function(e,t){return e+t.cost}),0)/t.length).toFixed(2)||0})),borderColor:Le[4],backgroundColor:Le[4],fill:!1}],labels:n.value.map((function(e){return e.id}))},options:{responsive:!0,aspectRatio:r.value?1.5:1,title:{display:!1},legend:{display:!0},tooltips:{enabled:!0,mode:"index",intersect:!1,callbacks:{}},scales:{yAxes:[{ticks:{min:0}}]}}});case 5:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(a.C)((function(){return e.records}),(function(){c()})),Object(a.n)((function(){c()})),{}}});Ct.render=kt,Ct.__scopeId="data-v-79d95317";var At=Ct,Mt=Object(a.i)({name:"App",components:{Dashboard:ht,MovieRecordItem:he,CollapseItem:wt,LineChart:At},setup:function(){var e,t=Object(x.a)((e="https://mechakucha-api.herokuapp.com/my-movie-record",new Promise((function(t,r){var a=new XMLHttpRequest;a.addEventListener("progress",(function(e){e.lengthComputable&&(e.loaded,e.total)})),a.addEventListener("load",(function(){return t(JSON.parse(a.response))})),a.addEventListener("error",(function(e){return r(e)})),a.addEventListener("abort",(function(e){return r(e)})),a.open("GET",e),a.send()}))),{success:!1,resultMessage:"",resultCode:"",resultException:"",items:[]}),r=t.state,n=t.ready,c=Object(a.t)(A()().year()),o=Object(a.c)((function(){return r.value.items})),s=Object(a.c)((function(){var e=k()(o.value,(function(e){return A()(e.date).year()}));return Object.keys(e).sort((function(e,t){return+e>+t?-1:1})).map((function(t){return{id:+t,records:e[t]}}))})),i=Object(a.c)((function(){return s.value.find((function(e){return e.id===c.value}))})),d=Object(a.c)((function(){var e=k()(o.value,(function(e){return e.title}));return Object.keys(e).map((function(t){return{title:t,count:e[t].length,records:o.value.filter((function(e){return t===e.title}))}})).filter((function(e){return e.count>1})).sort((function(e,t){return e.count>t.count?-1:1}))}));return{ready:n,records:o,arrayByYear:s,arrayByTitle:d,filterYear:c,filterArrayByYear:i,formatDate:R}}});Mt.render=function(e,t,r,x,w,k){var C=Object(a.w)("Dashboard"),A=Object(a.w)("LineChart"),M=Object(a.w)("MovieRecordItem"),_=Object(a.w)("CollapseItem");return Object(a.p)(),Object(a.e)("div",n,[e.ready?(Object(a.p)(),Object(a.e)("div",s,[Object(a.h)("div",i,[d,Object(a.F)(Object(a.h)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filterYear=t}),class:"w-full border p-2 rounded-none bg-white rounded-r"},[l,(Object(a.p)(!0),Object(a.e)(a.a,null,Object(a.u)(e.arrayByYear,(function(e){return Object(a.p)(),Object(a.e)("option",{key:e.id,value:e.id},Object(a.x)(e.id),9,["value"])})),128))],512),[[a.A,e.filterYear,void 0,{number:!0}]])]),e.filterArrayByYear?(Object(a.p)(),Object(a.e)("div",u,[Object(a.h)("h2",b,Object(a.x)(e.filterArrayByYear.id),1),Object(a.h)(C,{id:"".concat(e.filterArrayByYear.id),records:e.filterArrayByYear.records},null,8,["id","records"])])):(Object(a.p)(),Object(a.e)("div",f,[j,Object(a.h)(C,{id:"total",records:e.records,hideContributionChart:""},null,8,["records"]),Object(a.h)("div",p,[Object(a.h)("div",O,[Object(a.h)(A,{id:"total",records:e.records},null,8,["records"])]),Object(a.h)("div",v,[h,(Object(a.p)(!0),Object(a.e)(a.a,null,Object(a.u)(e.arrayByTitle,(function(e){return Object(a.p)(),Object(a.e)("div",{key:e.title,class:"border rounded mb-3 p-2"},[Object(a.h)(_,null,{title:Object(a.E)((function(){return[Object(a.h)("div",y,[Object(a.h)("div",m,Object(a.x)(e.title),1),Object(a.h)("div",g,Object(a.x)(e.count)+" 次",1)])]})),default:Object(a.E)((function(){return[(Object(a.p)(!0),Object(a.e)(a.a,null,Object(a.u)(e.records,(function(e){return Object(a.p)(),Object(a.e)(M,{key:"".concat(e.date,"_").concat(e.title),record:e,hideTitle:""},null,8,["record"])})),128))]})),_:2},1024)])})),128))])])]))])):(Object(a.p)(),Object(a.e)("div",c,[(Object(a.p)(),Object(a.e)(a.a,null,Object(a.u)(5,(function(e){return Object(a.h)("div",{key:e,class:"animate-pulse space-x-4"},[o])})),64))]))])};var _t=Mt,Lt=r("9483");Object(Lt.a)("".concat("/movie-record/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(e){}}),r("def6"),r("a41b"),Object(a.d)(_t).mount("#app")},def6:function(e,t,r){}});