!function(e){function t(t){for(var n,o,i=t[0],d=t[1],l=t[2],s=0,b=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(u&&u(t);b.length;)b.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var d=r[i];0!==c[d]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},c={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-record/";var i=window.webpackJsonp=window.webpackJsonp||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=d;a.push([0,"chunk-vendors"]),r()}({0:function(e,t,r){e.exports=r("cd49")},a41b:function(e,t,r){},c32d:function(e,t){if("undefined"==typeof moment){var r=new Error("Cannot find module 'moment'");throw r.code="MODULE_NOT_FOUND",r}e.exports=moment},cd49:function(e,t,r){"use strict";r.r(t),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=(r("f0e6"),r("99af"),{class:"text-center my-2"}),a={class:"max-w-2xl mx-auto"},o={class:"text-center"},i={class:"mt-3 mb-1"},d={class:"max-w-2xl mx-auto px-2"},l=Object(n.createVNode)("div",{class:"text-center text-xs my-2"},"累積下來每個月各看了幾場電影",-1),u={class:"text-center text-xs my-2"},s={class:"max-w-2xl mx-auto px-2"},b={class:"max-w-2xl mx-auto px-2"},p={class:"max-w-2xl mx-auto px-2"},f={class:"max-w-2xl mx-auto px-2"},j={class:"max-w-2xl mx-auto"},O={class:"flex items-center"},v={class:"text-xs"},m={class:"-mx-3 -my-4"};r("4de4"),r("7db0"),r("d81d"),r("b64b"),r("ac1f"),r("5319"),r("5f1a");var y=r("a3e2"),h=(r("342a"),r("1437")),k=(r("5d17"),r("f9bd")),x=(r("0653"),r("34e9")),g=(r("0209"),r("7d5e")),C=(r("da3c"),r("0b33")),w=(r("bda7"),r("5e46")),B=r("16ce"),V=r("6edf"),N=r.n(V),S=r("5a0c"),_=r.n(S),D=r("5087"),M=r.n(D),I=r("04ee"),A=r.n(I),R=r("7e21"),T=r.n(R),P=r("5e77"),Y=r.n(P),q=r("8d82"),L=r.n(q);function F(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _()(e).format(t?"YYYY/MM/DD HH:mm":"YYYY/MM/DD")}_.a.locale(M.a),_.a.extend(A.a),_.a.extend(T.a),_.a.extend(Y.a),_.a.extend(L.a),r("d3b7");var H=Object(n.withScopeId)("data-v-5b7d4220")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])})),E=(r("96cf"),r("1da1")),z=r("30ef"),U=r.n(z),W=(r("fb6a"),r("466d"),["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 205, 86)","#81E6D9","#718096","#742A2A","#68D391","#2C5282","#6B46C1"]),J=Object(n.defineComponent)({props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.ref)(null),r=Object(B.b)("(min-width: 768px)"),c=Object(n.computed)((function(){var t=N()(e.records,(function(e){return _()(e.date).year()}));return Object.keys(t).map((function(e){return{id:+e,records:t[e]}}))}));function a(){return o.apply(this,arguments)}function o(){return(o=Object(E.a)(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(n.nextTick)();case 2:t.value&&t.value.clear(),o=document.getElementById(e.id).getContext("2d"),t.value=new U.a(o,{type:"bar",data:{datasets:[{type:"line",label:"總場數",data:c.value.map((function(e){return e.records.length})),borderColor:W[2],backgroundColor:W[2],fill:!1}],labels:c.value.map((function(e){return e.id}))},options:{responsive:!0,aspectRatio:r.value?1.5:1,title:{display:!1},legend:{display:!0},tooltips:{enabled:!0,mode:"index",intersect:!1,callbacks:{}},scales:{yAxes:[{ticks:{min:0}}]}}});case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.records}),(function(){a()})),Object(n.onMounted)((function(){a()})),{}}});J.render=H,J.__scopeId="data-v-5b7d4220";var G=J,$=Object(n.withScopeId)("data-v-3d40a302");Object(n.pushScopeId)("data-v-3d40a302");var X={key:0},K={class:"mb-2"},Q={class:"text-sm"},Z={class:"text-xs mt-2"},ee={class:"text-right text-gray-500 ml-1"},te={class:"text-xs"};Object(n.popScopeId)();var re=$((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("van-tag"),d=Object(n.resolveComponent)("van-cell");return Object(n.openBlock)(),Object(n.createBlock)(d,{center:"",border:"",size:e.size},{title:$((function(){return[e.hideTitle?Object(n.createCommentVNode)("",!0):(Object(n.openBlock)(),Object(n.createBlock)("div",X,Object(n.toDisplayString)(e.record.title),1))]})),label:$((function(){return[Object(n.createVNode)("div",K,[Object(n.createVNode)(i,{class:"mr-2",plain:"",type:"default"},{default:$((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.area),1)]})),_:1}),Object(n.createVNode)(i,{class:"mr-2",plain:"",type:"primary"},{default:$((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.version),1)]})),_:1}),Object(n.createVNode)(i,{plain:"",type:"success"},{default:$((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.theater),1)]})),_:1})]),Object(n.createVNode)("div",Q,Object(n.toDisplayString)(e.record.memo),1),Object(n.createVNode)("div",Z,Object(n.toDisplayString)(e.formatDateTime(e.record.date)),1)]})),extra:$((function(){return[Object(n.createVNode)("div",ee,[Object(n.createVNode)("div",null,"x "+Object(n.toDisplayString)(e.record.tickets),1),Object(n.createVNode)("div",te,"$ "+Object(n.toDisplayString)(e.record.cost),1)])]})),_:1},8,["size"])})),ne=(r("c194"),r("7744")),ce=Object(n.defineComponent)({components:{VanCell:ne.b,VanTag:y.a},props:{record:{type:Object,required:!0},format:{type:String,default:"YYYY/MM/DD HH:mm"},size:{type:String,default:"large"},hideTitle:{type:Boolean,default:!1}},setup:function(e){return{formatDateTime:function(t){return _()(t).format(e.format)}}}});ce.render=re,ce.__scopeId="data-v-3d40a302";var ae=ce,oe=Object(n.withScopeId)("data-v-21add717");Object(n.pushScopeId)("data-v-21add717");var ie={class:"text-center py-2"};Object(n.popScopeId)();var de=oe((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{id:e.id,data:e.data,labels:e.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.showRecords,"onUpdate:records":t[1]||(t[1]=function(t){return e.showRecords=t})},{title:oe((function(){return[Object(n.createVNode)("div",ie,Object(n.toDisplayString)(e.showMonth)+"月",1)]})),_:1},8,["records"])],64)})),le=(r("cb29"),r("5530")),ue=Object(n.withScopeId)("data-v-15a6cc5a")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])})),se=r("a9be"),be=r.n(se);U.a.plugins.unregister(be.a);var pe=Object(n.defineComponent)({props:{id:{type:String,required:!0},data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:String},type:{type:String,default:"bar"}},setup:function(e,t){var r=t.emit,c=Object(n.ref)(null),a=Object(B.b)("(min-width: 768px)");function o(){return i.apply(this,arguments)}function i(){return(i=Object(E.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.nextTick)();case 2:c.value&&c.value.clear(),o=document.getElementById(e.id).getContext("2d"),c.value=new U.a(o,{plugins:[be.a],type:e.type,data:{datasets:[{data:e.data,backgroundColor:W}],labels:e.labels},options:{responsive:!0,aspectRatio:a.value?1.5:.8,title:{display:!!e.title,text:e.title},legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}]},plugins:{datalabels:{textAlign:"end",align:"center",color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(e){return e>0?e:""}}},onClick:function(e,t){var n,c,a,o=null==t||null===(n=t[0])||void 0===n?void 0:n._index,i=null==t||null===(c=t[0])||void 0===c||null===(a=c._view)||void 0===a?void 0:a.label;isNaN(o)||r("bar-click",{index:o,label:i})}}});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.data}),(function(){o()})),Object(n.onMounted)((function(){o()})),{}}});pe.render=ue,pe.__scopeId="data-v-15a6cc5a";var fe=pe,je=Object(n.withScopeId)("data-v-28fcb518"),Oe=je((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordCell"),d=Object(n.resolveComponent)("van-popup");return Object(n.openBlock)(),Object(n.createBlock)(d,{show:e.show,"onUpdate:show":t[1]||(t[1]=function(t){return e.show=t}),round:"",position:"bottom",style:{height:"90%"},closeable:""},{default:je((function(){return[Object(n.renderSlot)(e.$slots,"title"),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(i,{record:e,key:"".concat(e.date,"_").concat(e.title)},null,8,["record"])})),128))]})),_:3},8,["show"])})),ve=(r("8a58"),r("e41f")),me=Object(n.defineComponent)({components:{VanPopup:ve.a,MovieRecordCell:ae},props:{records:{type:Array,required:!0}},setup:function(e,t){var r=t.emit;return{show:Object(n.computed)({get:function(){return e.records.length>0},set:function(e){e||r("update:records",[])}})}}});me.render=Oe,me.__scopeId="data-v-28fcb518";var ye=me,he=Object(n.defineComponent)({components:{BarChart:fe,MovieRecordsPopup:ye},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return t})),r=Object(n.ref)(0),c=Object(n.ref)([]),a=Object(n.computed)((function(){return N()(e.records,(function(e){return _()(e.date).month()}))})),o=Object(n.reactive)({data:Object(n.computed)((function(){var e=Object.keys(a.value).map((function(e){return{month:+e,value:a.value[e].length}}));return t.map((function(t){var r,n;return null!==(r=null===(n=e.find((function(e){return e.month===t})))||void 0===n?void 0:n.value)&&void 0!==r?r:0}))})),labels:t.map((function(e){return _()().month(e).format("MMM")}))});return Object(le.a)(Object(le.a)({},Object(n.toRefs)(o)),{},{showMonth:r,showRecords:c,onClick:function(e){var t=e.index;r.value=t+1,c.value=a.value[t]}})}});he.render=de,he.__scopeId="data-v-21add717";var ke=he,xe=Object(n.withScopeId)("data-v-a72ee01c");Object(n.pushScopeId)("data-v-a72ee01c");var ge={class:"text-center py-2"};Object(n.popScopeId)();var Ce=xe((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)("div",null,[(Object(n.openBlock)(),Object(n.createBlock)("svg",{id:e.id,class:"w-full",height:e.svgHeight},null,8,["id","height"]))]),Object(n.createVNode)(i,{records:e.dayDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.dayDetails.records=t})},{title:xe((function(){return[Object(n.createVNode)("div",ge,[Object(n.createVNode)("div",null,Object(n.toDisplayString)(e.formatWeekDay(e.dayDetails.weekday))+" "+Object(n.toDisplayString)(e.formatHour(e.dayDetails.hour)),1)])]})),_:1},8,["records"])],64)})),we=(r("4160"),r("159b"),r("5698")),Be=r("7bbe"),Ve=Object(n.defineComponent)({components:{MovieRecordsPopup:ye},props:{id:{type:String,default:"js-heatmap"},records:{type:Array,required:!0}},setup:function(e){var t=10,r=20,c=20,a=45,o=528+t+c,i=o-t-c,d=Array(7).fill("").map((function(e,t){return _()().weekday(t).format("ddd")})),l=Object(B.c)().width,u=Object(Be.o)(p,1e3),s=Object(n.reactive)({dataset:Object(n.computed)((function(){var t=N()(e.records,(function(e){return _()(e.date).weekday()})),r=[];return Array(7).fill("").forEach((function(e,n){Array(24).fill("").forEach((function(e,c){var a,o,i=null===(a=t[n])||void 0===a?void 0:a.filter((function(e){return _()(e.date).isSame(_()(e.date).hour(c),"hour")})),d=null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0;r.push({weekday:+n,hour:c,value:d,records:i})}))})),r}))}),b=Object(n.reactive)({weekday:0,hour:0,records:[]});function p(){return f.apply(this,arguments)}function f(){return(f=Object(E.a)(regeneratorRuntime.mark((function c(){var o,l,u,p,f,j,O,v,m,y,h,k;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return h=function(e,t){b.weekday=t.weekday,b.hour=t.hour,b.records=t.records},c.next=3,Object(n.nextTick)();case 3:if(we.e("#".concat(e.id," > *")).remove(),u=we.d("#".concat(e.id)),p=null==u||null===(o=u.node())||void 0===o||null===(l=o.getBoundingClientRect())||void 0===l?void 0:l.width,f=p-a-r,j=Math.floor(f/d.length),!(p<0||f<0||j<0)){c.next=10;break}return c.abrupt("return");case 10:(O=u.append("g").attr("class","heatMap").attr("transform","translate(".concat(a,", ").concat(t,")"))).append("g").attr("class","dayLabel").selectAll("text").data(d).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return t*j+5})).attr("y",i+22*.7).style("text-anchor","middle").style("font-size",12).attr("transform","translate(".concat(j/2,", 0)")),v=we.c().domain([_()().startOf("day"),_()().add(1,"day").startOf("day")]).range([0,i]),m=we.a(v).ticks(24).tickFormat(we.f("%H:%M")),O.append("g").attr("class","timeLabel").call(m),y=we.b().domain([0,8]).range(["#eee","#d6e685","#8cc665","#44a340","#1e6823","#18541c","#134016","#0d2d0f"]),k=O.append("g").attr("class","rect").selectAll("rect").data(s.dataset).enter().append("rect").attr("x",(function(e){return e.weekday*j+5})).attr("y",(function(e){return 22*e.hour})).attr("weekday",(function(e){return e.weekday})).attr("hour",(function(e){return e.hour})).attr("rx",5).attr("ry",5).attr("width",j).attr("height",22).attr("stroke","#fff").attr("stroke-width","2px").style("fill","#eee").attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",h),O.append("g").selectAll("rect").data(s.dataset).enter().append("text").attr("x",(function(e){return e.weekday*j+j/2})).attr("y",(function(e){return 22*e.hour+11+5})).text((function(e){return e.value?e.value:""})).style("font-size",12).attr("fill",(function(e){return e.value<3?"#000":"#fff"})).on("click",h),k.transition().duration(400).style("fill",(function(e){return y(e.value)}));case 19:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(n.watch)((function(){return s.dataset}),(function(){p()})),Object(n.watch)(l,(function(){u()})),Object(n.onMounted)((function(){p()})),{svgHeight:o,dayDetails:b,formatDate:F,formatWeekDay:function(e){return _()().weekday(e).format("ddd")},formatHour:function(e){var t=_()().startOf("day");return t.hour(e).format("HH:mm")+"~"+t.hour(e+1).format("HH:mm")}}}});Ve.render=Ce,Ve.__scopeId="data-v-a72ee01c";var Ne=Ve,Se=Object(n.withScopeId)("data-v-15399268");Object(n.pushScopeId)("data-v-15399268");var _e={class:"text-xs"};Object(n.popScopeId)();var De=Se((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("div",_e," 看了 "+Object(n.toDisplayString)(e.totalCount)+" 場電影，一共 "+Object(n.toDisplayString)(e.totalTicks)+" 張電影票，花了 "+Object(n.toDisplayString)(e.totalCost.toLocaleString())+" 新台幣 ",1)})),Me=(r("13d5"),Object(n.defineComponent)({props:{records:{type:Array,required:!0}},setup:function(e){var t=Object(n.reactive)({totalCount:Object(n.computed)((function(){return e.records.length})),totalCost:Object(n.computed)((function(){return e.records.reduce((function(e,t){return e+t.cost}),0)})),totalTicks:Object(n.computed)((function(){return e.records.reduce((function(e,t){return e+t.tickets}),0)}))});return Object(le.a)({},Object(n.toRefs)(t))}}));Me.render=De,Me.__scopeId="data-v-15399268";var Ie=Me,Ae=Object(n.withScopeId)("data-v-24d7f2c0");Object(n.pushScopeId)("data-v-24d7f2c0");var Re={class:"text-center py-2"};Object(n.popScopeId)();var Te=Ae((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("PieChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{id:e.id,data:e.dataset.data,labels:e.dataset.labels,onPieClick:e.onClick},null,8,["id","data","labels","onPieClick"]),Object(n.createVNode)(d,{records:e.areaDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.areaDetails.records=t})},{title:Ae((function(){return[Object(n.createVNode)("div",Re,Object(n.toDisplayString)(e.areaDetails.label),1)]})),_:1},8,["records"])],64)})),Pe=Object(n.withScopeId)("data-v-952d5342")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])}));r("b680"),U.a.plugins.unregister(be.a);var Ye=Object(n.defineComponent)({props:{id:{type:String,required:!0},title:{type:String},data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup:function(e,t){var r=t.emit,c=Object(n.ref)(null),a=Object(B.b)("(min-width: 768px)");function o(){return i.apply(this,arguments)}function i(){return(i=Object(E.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.nextTick)();case 2:c.value&&c.value.clear(),o=document.getElementById(e.id).getContext("2d"),c.value=new U.a(o,{plugins:[be.a],type:"pie",data:{datasets:[{data:e.data,backgroundColor:W}],labels:e.labels},options:{responsive:!0,aspectRatio:a.value?1.5:e.labels.length>10?.7:1,title:{display:!!e.title,text:e.title},tooltips:{callbacks:{label:function(t,r){var n,c=t.index,a=e.data[c],o=a/e.data.reduce((function(e,t){return e+ +t}),0)*100;return"".concat(null===(n=r.labels)||void 0===n?void 0:n[c],": ").concat(a," (").concat(o.toFixed(0),"%)")}}},plugins:{datalabels:{color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(t){return t/e.data.reduce((function(e,t){return e+ +t}),0)*100<10?"":t}}},onClick:function(e,t){var n,c,a,o=null==t||null===(n=t[0])||void 0===n?void 0:n._index,i=null==t||null===(c=t[0])||void 0===c||null===(a=c._view)||void 0===a?void 0:a.label;isNaN(o)||r("pie-click",{index:o,label:i})}}});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.data}),(function(){o()})),Object(n.onMounted)((function(){o()})),{}}});Ye.render=Pe,Ye.__scopeId="data-v-952d5342";var qe=Ye,Le=Object(n.defineComponent)({components:{PieChart:qe,MovieRecordsPopup:ye},props:{id:{type:String,default:"js-area-pie"},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return N()(e.records,(function(e){return e.area}))})),r=Object(n.reactive)({data:Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object(n.computed)((function(){return Object.keys(t.value)}))}),c=Object(n.reactive)({label:"",records:[]});return{dataset:r,areaDetails:c,onClick:function(e){var r=e.label;c.label=r,c.records=t.value[r]}}}});Le.render=Te,Le.__scopeId="data-v-24d7f2c0";var Fe=Le,He=Object(n.withScopeId)("data-v-13ff7eb0");Object(n.pushScopeId)("data-v-13ff7eb0");var Ee={class:"text-center py-2"};Object(n.popScopeId)();var ze=He((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{type:"horizontalBar",id:e.id,key:e.id,data:e.dataset.data,labels:e.dataset.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.theaterDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.theaterDetails.records=t})},{title:He((function(){return[Object(n.createVNode)("div",Ee,Object(n.toDisplayString)(e.theaterDetails.label),1)]})),_:1},8,["records"])],64)})),Ue=Object(n.defineComponent)({components:{BarChart:fe,MovieRecordsPopup:ye},props:{id:{type:String,default:"js-theater-bar"},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return N()(e.records,(function(e){return e.theater}))})),r=Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return{label:e,data:t.value[e].length}})).sort((function(e,t){return e.data<t.data?1:-1}))})),c=Object(n.reactive)({data:Object(n.computed)((function(){return r.value.map((function(e){return e.data}))})),labels:Object(n.computed)((function(){return r.value.map((function(e){return e.label}))}))}),a=Object(n.reactive)({label:"",records:[]});return{dataset:c,theaterDetails:a,onClick:function(e){var r=e.label;a.label=r,a.records=t.value[r]}}}});Ue.render=ze,Ue.__scopeId="data-v-13ff7eb0";var We=Ue,Je=Object(n.withScopeId)("data-v-6690c064");Object(n.pushScopeId)("data-v-6690c064");var Ge={class:"text-center py-2"};Object(n.popScopeId)();var $e=Je((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{type:"horizontalBar",id:e.id,data:e.data,labels:e.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.versionDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.versionDetails.records=t})},{title:Je((function(){return[Object(n.createVNode)("div",Ge,Object(n.toDisplayString)(e.versionDetails.label),1)]})),_:1},8,["records"])],64)})),Xe=Object(n.defineComponent)({components:{BarChart:fe,MovieRecordsPopup:ye},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return N()(e.records,(function(e){return e.version}))})),r=Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return{label:e,data:t.value[e].length}})).sort((function(e,t){return e.data<t.data?1:-1}))})),c=Object(n.reactive)({data:Object(n.computed)((function(){return r.value.map((function(e){return e.data}))})),labels:Object(n.computed)((function(){return r.value.map((function(e){return e.label}))}))}),a=Object(n.reactive)({label:"",records:[]});return Object(le.a)(Object(le.a)({},Object(n.toRefs)(c)),{},{versionDetails:a,onClick:function(e){var r=e.label;a.label=r,a.records=t.value[r]}})}});Xe.render=$e,Xe.__scopeId="data-v-6690c064";var Ke=Xe,Qe=Object(n.withScopeId)("data-v-9ed47314");Object(n.pushScopeId)("data-v-9ed47314");var Ze={class:"mx-auto relative"},et={class:"w-full overflow-x-auto"},tt={class:"text-center py-2"};Object(n.popScopeId)();var rt=Qe((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)("div",Ze,[Object(n.createVNode)("div",et,[(Object(n.openBlock)(),Object(n.createBlock)("svg",{id:e.id,key:e.id,width:62*e.rectWidth,height:10*e.rectWidth},null,8,["id","width","height"]))])]),Object(n.createVNode)(i,{records:e.dayDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.dayDetails.records=t})},{title:Qe((function(){return[Object(n.createVNode)("div",tt,Object(n.toDisplayString)(e.formatDate(e.dayDetails.date,!1)),1)]})),_:1},8,["records"])],64)})),nt=r("2909"),ct=Object(n.defineComponent)({components:{MovieRecordsPopup:ye},props:{id:{type:String,default:"js-contribution"},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return _()().month(t).format("MMM")})),r=Array(7).fill("").map((function(e,t){return _()().weekday(t).format("dd")})).filter((function(e,t){return t%2==1})),c=Object(n.computed)((function(){return N()(e.records,(function(e){return _()(e.date).dayOfYear()}))})),a=Object(n.reactive)({contributions:Object(n.computed)((function(){var t=_()(e.records[0].date).startOf("year"),r=t.isLeapYear()?366:365,n=t.isoWeekday()%7;return Array(n).fill("").map((function(){return{date:"",value:-1,records:[]}})).concat(Array(r).fill("").map((function(e,r){var n,a,o=t.add(r,"day"),i=null!==(n=null===(a=c.value[r+1])||void 0===a?void 0:a.length)&&void 0!==n?n:0,d=c.value[r+1]||[];return{date:o.toISOString(),value:i,records:d}})))}))}),o=Object(n.reactive)({date:"",records:[]});function i(){var n=we.d("#".concat(e.id)),c=n.append("g").attr("class","mainChart").attr("transform","translate(".concat(20,", ").concat(20,")")).selectAll("rect").data(a.contributions),i=we.b().domain([-1,0,1,2,3,4,5]).range(["#fff","#eee","#d6e685","#8cc665","#44a340","#1e6823"]);c.enter().append("rect").attr("height",15).attr("width",15).attr("fill",(function(e){return i(e.value)})).attr("y",(function(e,t){return t%7*17})).attr("x",(function(e,t){return 17*~~(t/7)})).attr("title",(function(e){return e.date})).attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",(function(e,t){o.date=t.date,o.records=Object(nt.a)(t.records).reverse()})),n.append("g").attr("class","xAxis").selectAll("text").data(t).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return 17*t*4.333+32})).attr("y",12).style("text-anchor","middle").style("font-size",12),n.append("g").attr("class","yAxis").selectAll("text").data(r).enter().append("text").text((function(e){return e})).attr("y",(function(e,t){return 34*t+47})).attr("x",12).style("text-anchor","middle").style("font-size",12)}return Object(n.watch)((function(){return a.contributions}),Object(E.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.nextTick)();case 2:i();case 3:case"end":return e.stop()}}),e)})))),Object(n.onMounted)((function(){i()})),Object(le.a)(Object(le.a)({},Object(n.toRefs)(a)),{},{rectWidth:15,dayDetails:o,formatDate:function(e){return _()(e).format("YYYY/MM/DD (ddd)")}})}});ct.render=rt,ct.__scopeId="data-v-9ed47314";var at=ct,ot=Object(n.defineComponent)({name:"App",components:{VanTabs:w.b,VanTab:C.a,VanSkeleton:g.a,VanCellGroup:x.a,VanCollapse:k.b,VanCollapseItem:h.a,VanTag:y.a,MovieRecordCell:ae,FrequencyBarChart:ke,TimeHeatmapChart:Ne,TotalAnalytics:Ie,AreaPieChart:Fe,TheaterBarChart:We,VersionBarChart:Ke,ContributionChart:at,LineChart:G},setup:function(){var e,t=Object(B.a)((e="https://mechakucha-api.herokuapp.com/my-movie-record",new Promise((function(t,r){var n=new XMLHttpRequest;n.addEventListener("progress",(function(e){e.lengthComputable})),n.addEventListener("load",(function(){return t(JSON.parse(n.response))})),n.addEventListener("error",(function(e){return r(e)})),n.addEventListener("abort",(function(e){return r(e)})),n.open("GET",e),n.send()}))),{success:!1,resultMessage:"",resultCode:"",resultException:"",items:[]}),r=t.state,c=t.ready,a=Object(n.ref)(window.location.hash.replace("#","")||"data"),o=Object(n.ref)(""),i=Object(n.ref)(_()().year()),d=Object(n.computed)((function(){return r.value.items})),l=Object(n.computed)((function(){var e=N()(d.value,(function(e){return _()(e.date).year()}));return Object.keys(e).sort((function(e,t){return+e>+t?-1:1})).map((function(t){return{id:+t,records:e[t]}}))})),u=Object(n.computed)((function(){return l.value.find((function(e){return e.id===i.value}))})),s=Object(n.computed)((function(){var e=N()(d.value,(function(e){return e.title}));return Object.keys(e).map((function(t){return{title:t,count:e[t].length,records:d.value.filter((function(e){return t===e.title}))}})).filter((function(e){return e.count>1})).sort((function(e,t){return e.count>t.count?-1:1}))}));return Object(n.watch)(a,(function(e){window.location.hash=e})),{ready:c,activeTab:a,activeCollapse:o,records:d,arrayByYear:l,arrayByTitle:s,filterYear:i,filterArrayByYear:u,formatDate:F}}});ot.render=function(e,t,r,y,h,k){var x=Object(n.resolveComponent)("TotalAnalytics"),g=Object(n.resolveComponent)("ContributionChart"),C=Object(n.resolveComponent)("MovieRecordCell"),w=Object(n.resolveComponent)("van-cell-group"),B=Object(n.resolveComponent)("van-tab"),V=Object(n.resolveComponent)("van-tabs"),N=Object(n.resolveComponent)("LineChart"),S=Object(n.resolveComponent)("FrequencyBarChart"),_=Object(n.resolveComponent)("TimeHeatmapChart"),D=Object(n.resolveComponent)("TheaterBarChart"),M=Object(n.resolveComponent)("VersionBarChart"),I=Object(n.resolveComponent)("AreaPieChart"),A=Object(n.resolveComponent)("van-tag"),R=Object(n.resolveComponent)("van-collapse-item"),T=Object(n.resolveComponent)("van-collapse"),P=Object(n.resolveComponent)("van-skeleton");return Object(n.openBlock)(),Object(n.createBlock)("div",{class:e.ready?"pb-16":"py-4"},[Object(n.createVNode)(P,{title:"",row:10,loading:!e.ready,round:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(V,{active:e.activeTab,"onUpdate:active":t[2]||(t[2]=function(t){return e.activeTab=t}),sticky:"",border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"資料",name:"data"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",c,[Object(n.createVNode)(x,{records:e.records},null,8,["records"])]),Object(n.createVNode)(V,{"offset-top":44,"line-height":1,scrollspy:"",sticky:"",border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",a,[Object(n.createVNode)(w,{border:""},{title:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",o,Object(n.toDisplayString)(e.id),1),Object(n.createVNode)("div",i,[Object(n.createVNode)(g,{id:"js-contribution-".concat(e.id),records:e.records},null,8,["id","records"])]),Object(n.createVNode)(x,{records:e.records},null,8,["records"])]})),default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(C,{record:e,key:"".concat(e.date,"_").concat(e.title)},null,8,["record"])})),128))]})),_:2},1024)])]})),_:2},1032,["title"])})),128))]})),_:1})]})),_:1}),Object(n.createVNode)(B,{title:"場數",name:"frequency"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",d,[Object(n.createVNode)(V,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"全部"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(N,{id:"total",records:e.records},null,8,["records"]),l,Object(n.createVNode)(S,{id:"js-frequency-all",records:e.records},null,8,["records"])]})),_:1}),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",u,Object(n.toDisplayString)(e.id)+" 每個月各看了幾場電影",1),Object(n.createVNode)(S,{id:"js-frequency-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(B,{title:"時間",name:"time"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",s,[Object(n.createVNode)(V,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"全部"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(_,{id:"js-heatmap-all",records:e.records},null,8,["records"])]})),_:1}),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(_,{id:"js-heatmap-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(B,{title:"影廳",name:"theater"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",b,[Object(n.createVNode)(V,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"全部"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(D,{id:"js-theater-bar-all",records:e.records},null,8,["records"])]})),_:1}),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(D,{id:"js-theater-bar-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(B,{title:"版本",name:"version"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",p,[Object(n.createVNode)(V,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"全部"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(M,{id:"js-version-bar-all",records:e.records},null,8,["records"])]})),_:1}),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(M,{id:"js-version-bar-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(B,{title:"國別",name:"area"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",f,[Object(n.createVNode)(V,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(B,{title:"全部"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(I,{id:"js-area-pie-all",records:e.records},null,8,["records"])]})),_:1}),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(B,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(I,{id:"js-area-pie-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(B,{title:"多刷",name:"secondtime"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",j,[Object(n.createVNode)(T,{modelValue:e.activeCollapse,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.activeCollapse=t}),accordion:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByTitle,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(R,{key:e.title,name:e.title},{title:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",O,[Object(n.createVNode)(A,{class:"mr-2",type:"primary",plain:"",size:"medium"},{default:Object(n.withCtx)((function(){return[Object(n.createTextVNode)("x "+Object(n.toDisplayString)(e.count),1)]})),_:2},1024),Object(n.createVNode)("span",v,Object(n.toDisplayString)(e.title),1)])]})),default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",m,[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(C,{record:e,key:"".concat(e.date,"_").concat(e.title),hideTitle:"",size:"mini"},null,8,["record"])})),128))])]})),_:2},1032,["name"])})),128))]})),_:1},8,["modelValue"])])]})),_:1})]})),_:1},8,["active"])]})),_:1},8,["loading"])],2)};var it=ot,dt=r("9483");Object(dt.a)("".concat("/movie-record/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(e){}}),r("def6"),r("a41b"),Object(n.createApp)(it).mount("#app")},def6:function(e,t,r){}});