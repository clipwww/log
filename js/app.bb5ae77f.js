!function(e){function t(t){for(var n,o,i=t[0],d=t[1],l=t[2],s=0,p=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var d=r[i];0!==c[d]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},c={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-record/";var i=window.webpackJsonp=window.webpackJsonp||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=d;a.push([0,"chunk-vendors"]),r()}({0:function(e,t,r){e.exports=r("cd49")},a41b:function(e,t,r){},c32d:function(e,t){if("undefined"==typeof moment){var r=new Error("Cannot find module 'moment'");throw r.code="MODULE_NOT_FOUND",r}e.exports=moment},cd49:function(e,t,r){"use strict";r.r(t),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=(r("f0e6"),r("99af"),{class:"text-center my-2"}),a={class:"max-w-2xl mx-auto"},o={class:"text-center"},i={class:"mt-3 mb-1"},d={class:"max-w-2xl mx-auto p-2"},l=Object(n.createVNode)("div",{class:"text-center text-xs my-2"},"累積下來每個月各看了幾場電影",-1),u={class:"text-center text-xs my-2"},s={class:"max-w-2xl mx-auto p-2"},p={class:"mt-5"},b={class:"max-w-2xl mx-auto p-2"},f={class:"mt-5"},j={class:"max-w-2xl mx-auto p-2"},O={class:"mt-5"},v={class:"max-w-2xl mx-auto p-2"},m={class:"mt-5"},y={class:"max-w-2xl mx-auto"},h={class:"flex items-center"},k={class:"text-xs"},x={class:"-mx-3 -my-4"};r("4de4"),r("7db0"),r("d81d"),r("b64b"),r("5f1a");var g=r("a3e2"),C=(r("342a"),r("1437")),w=(r("5d17"),r("f9bd")),B=(r("0653"),r("34e9")),V=(r("0209"),r("7d5e")),N=(r("da3c"),r("0b33")),S=(r("bda7"),r("5e46")),_=r("16ce"),D=r("6edf"),M=r.n(D),I=r("5a0c"),A=r.n(I),R=r("5087"),T=r.n(R),P=r("04ee"),Y=r.n(P),q=r("7e21"),L=r.n(q),F=r("5e77"),H=r.n(F),E=r("8d82"),z=r.n(E);function U(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return A()(e).format(t?"YYYY/MM/DD HH:mm":"YYYY/MM/DD")}A.a.locale(T.a),A.a.extend(Y.a),A.a.extend(L.a),A.a.extend(H.a),A.a.extend(z.a),r("d3b7");var W=Object(n.withScopeId)("data-v-5b7d4220")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])})),J=(r("96cf"),r("1da1")),G=r("30ef"),$=r.n(G),X=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 205, 86)","#81E6D9","#718096","#742A2A","#68D391","#2C5282","#6B46C1"],K=Object(n.defineComponent)({props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.ref)(null),r=Object(_.b)("(min-width: 768px)"),c=Object(n.computed)((function(){var t=M()(e.records,(function(e){return A()(e.date).year()}));return Object.keys(t).map((function(e){return{id:+e,records:t[e]}}))}));function a(){return o.apply(this,arguments)}function o(){return(o=Object(J.a)(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(n.nextTick)();case 2:t.value&&t.value.clear(),o=document.getElementById(e.id).getContext("2d"),t.value=new $.a(o,{type:"bar",data:{datasets:[{type:"line",label:"總場數",data:c.value.map((function(e){return e.records.length})),borderColor:X[2],backgroundColor:X[2],fill:!1}],labels:c.value.map((function(e){return e.id}))},options:{responsive:!0,aspectRatio:r.value?1.5:1,title:{display:!1},legend:{display:!0},tooltips:{enabled:!0,mode:"index",intersect:!1,callbacks:{}},scales:{yAxes:[{ticks:{min:0}}]}}});case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.records}),(function(){a()})),Object(n.onMounted)((function(){a()})),{}}});K.render=W,K.__scopeId="data-v-5b7d4220";var Q=K,Z=Object(n.withScopeId)("data-v-3d40a302");Object(n.pushScopeId)("data-v-3d40a302");var ee={key:0},te={class:"mb-2"},re={class:"text-sm"},ne={class:"text-xs mt-2"},ce={class:"text-right text-gray-500 ml-1"},ae={class:"text-xs"};Object(n.popScopeId)();var oe=Z((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("van-tag"),d=Object(n.resolveComponent)("van-cell");return Object(n.openBlock)(),Object(n.createBlock)(d,{center:"",border:"",size:e.size},{title:Z((function(){return[e.hideTitle?Object(n.createCommentVNode)("",!0):(Object(n.openBlock)(),Object(n.createBlock)("div",ee,Object(n.toDisplayString)(e.record.title),1))]})),label:Z((function(){return[Object(n.createVNode)("div",te,[Object(n.createVNode)(i,{class:"mr-2",plain:"",type:"default"},{default:Z((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.area),1)]})),_:1}),Object(n.createVNode)(i,{class:"mr-2",plain:"",type:"primary"},{default:Z((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.version),1)]})),_:1}),Object(n.createVNode)(i,{plain:"",type:"success"},{default:Z((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(e.record.theater),1)]})),_:1})]),Object(n.createVNode)("div",re,Object(n.toDisplayString)(e.record.memo),1),Object(n.createVNode)("div",ne,Object(n.toDisplayString)(e.formatDateTime(e.record.date)),1)]})),extra:Z((function(){return[Object(n.createVNode)("div",ce,[Object(n.createVNode)("div",null,"x "+Object(n.toDisplayString)(e.record.tickets),1),Object(n.createVNode)("div",ae,"$ "+Object(n.toDisplayString)(e.record.cost),1)])]})),_:1},8,["size"])})),ie=(r("c194"),r("7744")),de=Object(n.defineComponent)({components:{VanCell:ie.b,VanTag:g.a},props:{record:{type:Object,required:!0},format:{type:String,default:"YYYY/MM/DD HH:mm"},size:{type:String,default:"large"},hideTitle:{type:Boolean,default:!1}},setup:function(e){return{formatDateTime:function(t){return A()(t).format(e.format)}}}});de.render=oe,de.__scopeId="data-v-3d40a302";var le=de,ue=Object(n.withScopeId)("data-v-21add717");Object(n.pushScopeId)("data-v-21add717");var se={class:"text-center py-2"};Object(n.popScopeId)();var pe=ue((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{id:e.id,data:e.data,labels:e.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.showRecords,"onUpdate:records":t[1]||(t[1]=function(t){return e.showRecords=t})},{title:ue((function(){return[Object(n.createVNode)("div",se,Object(n.toDisplayString)(e.showMonth)+"月",1)]})),_:1},8,["records"])],64)})),be=(r("cb29"),r("5530")),fe=Object(n.withScopeId)("data-v-15a6cc5a")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])})),je=r("a9be"),Oe=r.n(je);$.a.plugins.unregister(Oe.a);var ve=Object(n.defineComponent)({props:{id:{type:String,required:!0},data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:String},type:{type:String,default:"bar"}},setup:function(e,t){var r=t.emit,c=Object(n.ref)(null),a=Object(_.b)("(min-width: 768px)");function o(){return i.apply(this,arguments)}function i(){return(i=Object(J.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.nextTick)();case 2:c.value&&c.value.clear(),o=document.getElementById(e.id).getContext("2d"),c.value=new $.a(o,{plugins:[Oe.a],type:e.type,data:{datasets:[{data:e.data,backgroundColor:X}],labels:e.labels},options:{responsive:!0,aspectRatio:a.value?1.5:.8,title:{display:!!e.title,text:e.title},legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}]},plugins:{datalabels:{textAlign:"end",align:"center",color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(e){return e>0?e:""}}},onClick:function(e,t){var n,c,a,o=null==t||null===(n=t[0])||void 0===n?void 0:n._index,i=null==t||null===(c=t[0])||void 0===c||null===(a=c._view)||void 0===a?void 0:a.label;isNaN(o)||r("bar-click",{index:o,label:i})}}});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.data}),(function(){o()})),Object(n.onMounted)((function(){o()})),{}}});ve.render=fe,ve.__scopeId="data-v-15a6cc5a";var me=ve,ye=Object(n.withScopeId)("data-v-28fcb518"),he=ye((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordCell"),d=Object(n.resolveComponent)("van-popup");return Object(n.openBlock)(),Object(n.createBlock)(d,{show:e.show,"onUpdate:show":t[1]||(t[1]=function(t){return e.show=t}),round:"",position:"bottom",style:{height:"90%"},closeable:""},{default:ye((function(){return[Object(n.renderSlot)(e.$slots,"title"),(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(i,{record:e,key:"".concat(e.date,"_").concat(e.title)},null,8,["record"])})),128))]})),_:3},8,["show"])})),ke=(r("8a58"),r("e41f")),xe=Object(n.defineComponent)({components:{VanPopup:ke.a,MovieRecordCell:le},props:{records:{type:Array,required:!0}},setup:function(e,t){var r=t.emit;return{show:Object(n.computed)({get:function(){return e.records.length>0},set:function(e){e||r("update:records",[])}})}}});xe.render=he,xe.__scopeId="data-v-28fcb518";var ge=xe,Ce=Object(n.defineComponent)({components:{BarChart:me,MovieRecordsPopup:ge},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return t})),r=Object(n.ref)(0),c=Object(n.ref)([]),a=Object(n.computed)((function(){return M()(e.records,(function(e){return A()(e.date).month()}))})),o=Object(n.reactive)({data:Object(n.computed)((function(){var e=Object.keys(a.value).map((function(e){return{month:+e,value:a.value[e].length}}));return t.map((function(t){var r,n;return null!==(r=null===(n=e.find((function(e){return e.month===t})))||void 0===n?void 0:n.value)&&void 0!==r?r:0}))})),labels:t.map((function(e){return A()().month(e).format("MMM")}))});return Object(be.a)(Object(be.a)({},Object(n.toRefs)(o)),{},{showMonth:r,showRecords:c,onClick:function(e){var t=e.index;r.value=t+1,c.value=a.value[t]}})}});Ce.render=pe,Ce.__scopeId="data-v-21add717";var we=Ce,Be=Object(n.withScopeId)("data-v-1f730c48");Object(n.pushScopeId)("data-v-1f730c48");var Ve={class:"text-center py-2"};Object(n.popScopeId)();var Ne=Be((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)("div",null,[(Object(n.openBlock)(),Object(n.createBlock)("svg",{id:e.id,class:"w-full",height:e.svgHeight},null,8,["id","height"]))]),Object(n.createVNode)(i,{records:e.dayDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.dayDetails.records=t})},{title:Be((function(){return[Object(n.createVNode)("div",Ve,[Object(n.createVNode)("div",null,Object(n.toDisplayString)(e.formatWeekDay(e.dayDetails.weekday))+" "+Object(n.toDisplayString)(e.formatHour(e.dayDetails.hour)),1)])]})),_:1},8,["records"])],64)})),Se=(r("4160"),r("159b"),r("5698")),_e=r("7bbe"),De=Object(n.defineComponent)({components:{MovieRecordsPopup:ge},props:{id:{type:String,default:"js-heatmap"},records:{type:Array,required:!0}},setup:function(e){var t=10,r=20,c=20,a=45,o=528+t+c,i=o-t-c,d=Array(7).fill("").map((function(e,t){return A()().weekday(t).format("ddd")})),l=Object(_.c)().width,u=Object(_e.o)(b,1e3),s=Object(n.reactive)({dataset:Object(n.computed)((function(){var t=M()(e.records,(function(e){return A()(e.date).weekday()})),r=[];return Array(7).fill("").forEach((function(e,n){Array(24).fill("").forEach((function(e,c){var a,o,i=null===(a=t[n])||void 0===a?void 0:a.filter((function(e){return A()(e.date).isSame(A()(e.date).hour(c),"hour")})),d=null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0;r.push({weekday:+n,hour:c,value:d,records:i})}))})),r}))}),p=Object(n.reactive)({weekday:0,hour:0,records:[]});function b(){return f.apply(this,arguments)}function f(){return(f=Object(J.a)(regeneratorRuntime.mark((function c(){var o,l,u,b,f,j,O,v,m,y,h,k;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return h=function(e,t){p.weekday=t.weekday,p.hour=t.hour,p.records=t.records},c.next=3,Object(n.nextTick)();case 3:Se.e("#".concat(e.id," > *")).remove(),u=Se.d("#".concat(e.id)),b=null==u||null===(o=u.node())||void 0===o||null===(l=o.getBoundingClientRect())||void 0===l?void 0:l.width,f=b-a-r,j=Math.floor(f/d.length),(O=u.append("g").attr("class","heatMap").attr("transform","translate(".concat(a,", ").concat(t,")"))).append("g").attr("class","dayLabel").selectAll("text").data(d).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return t*j+5})).attr("y",i+22*.7).style("text-anchor","middle").style("font-size",12).attr("transform","translate(".concat(j/2,", 0)")),v=Se.c().domain([A()().startOf("day"),A()().add(1,"day").startOf("day")]).range([0,i]),m=Se.a(v).ticks(24).tickFormat(Se.f("%H:%M")),O.append("g").attr("class","timeLabel").call(m),y=Se.b().domain([0,8]).range(["#eee","#d6e685","#8cc665","#44a340","#1e6823","#18541c","#134016","#0d2d0f"]),k=O.append("g").attr("class","rect").selectAll("rect").data(s.dataset).enter().append("rect").attr("x",(function(e){return e.weekday*j+5})).attr("y",(function(e){return 22*e.hour})).attr("weekday",(function(e){return e.weekday})).attr("hour",(function(e){return e.hour})).attr("rx",5).attr("ry",5).attr("width",j).attr("height",22).attr("stroke","#fff").attr("stroke-width","2px").style("fill","#eee").attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",h),O.append("g").selectAll("rect").data(s.dataset).enter().append("text").attr("x",(function(e){return e.weekday*j+j/2})).attr("y",(function(e){return 22*e.hour+11+5})).text((function(e){return e.value?e.value:""})).style("font-size",12).style("text-shadow","1px 1px #fff, -1px -1px #fff , 0 -1px #fff, -1px 0 #fff, 1px 0 #fff, 0 1px #fff").attr("fill","#000").on("click",h),k.transition().duration(400).style("fill",(function(e){return y(e.value)}));case 17:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(n.watch)((function(){return s.dataset}),(function(){b()})),Object(n.watch)(l,(function(){u()})),Object(n.onMounted)((function(){b()})),{svgHeight:o,dayDetails:p,formatDate:U,formatWeekDay:function(e){return A()().weekday(e).format("ddd")},formatHour:function(e){var t=A()().startOf("day");return t.hour(e).format("HH:mm")+"~"+t.hour(e+1).format("HH:mm")}}}});De.render=Ne,De.__scopeId="data-v-1f730c48";var Me=De,Ie=Object(n.withScopeId)("data-v-15399268");Object(n.pushScopeId)("data-v-15399268");var Ae={class:"text-xs"};Object(n.popScopeId)();var Re=Ie((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("div",Ae," 看了 "+Object(n.toDisplayString)(e.totalCount)+" 場電影，一共 "+Object(n.toDisplayString)(e.totalTicks)+" 張電影票，花了 "+Object(n.toDisplayString)(e.totalCost.toLocaleString())+" 新台幣 ",1)})),Te=(r("13d5"),Object(n.defineComponent)({props:{records:{type:Array,required:!0}},setup:function(e){var t=Object(n.reactive)({totalCount:Object(n.computed)((function(){return e.records.length})),totalCost:Object(n.computed)((function(){return e.records.reduce((function(e,t){return e+t.cost}),0)})),totalTicks:Object(n.computed)((function(){return e.records.reduce((function(e,t){return e+t.tickets}),0)}))});return Object(be.a)({},Object(n.toRefs)(t))}}));Te.render=Re,Te.__scopeId="data-v-15399268";var Pe=Te,Ye=Object(n.withScopeId)("data-v-24d7f2c0");Object(n.pushScopeId)("data-v-24d7f2c0");var qe={class:"text-center py-2"};Object(n.popScopeId)();var Le=Ye((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("PieChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{id:e.id,data:e.dataset.data,labels:e.dataset.labels,onPieClick:e.onClick},null,8,["id","data","labels","onPieClick"]),Object(n.createVNode)(d,{records:e.areaDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.areaDetails.records=t})},{title:Ye((function(){return[Object(n.createVNode)("div",qe,Object(n.toDisplayString)(e.areaDetails.label),1)]})),_:1},8,["records"])],64)})),Fe=Object(n.withScopeId)("data-v-952d5342")((function(e,t,r,c,a,o){return Object(n.openBlock)(),Object(n.createBlock)("canvas",{id:e.id,key:e.id},null,8,["id"])}));r("b680"),$.a.plugins.unregister(Oe.a);var He=Object(n.defineComponent)({props:{id:{type:String,required:!0},title:{type:String},data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup:function(e,t){var r=t.emit,c=Object(n.ref)(null),a=Object(_.b)("(min-width: 768px)");function o(){return i.apply(this,arguments)}function i(){return(i=Object(J.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.nextTick)();case 2:c.value&&c.value.clear(),o=document.getElementById(e.id).getContext("2d"),c.value=new $.a(o,{plugins:[Oe.a],type:"pie",data:{datasets:[{data:e.data,backgroundColor:X}],labels:e.labels},options:{responsive:!0,aspectRatio:a.value?1.5:e.labels.length>10?.7:1,title:{display:!!e.title,text:e.title},tooltips:{callbacks:{label:function(t,r){var n,c=t.index,a=e.data[c],o=a/e.data.reduce((function(e,t){return e+ +t}),0)*100;return"".concat(null===(n=r.labels)||void 0===n?void 0:n[c],": ").concat(a," (").concat(o.toFixed(0),"%)")}}},plugins:{datalabels:{color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter:function(t){return t/e.data.reduce((function(e,t){return e+ +t}),0)*100<10?"":t}}},onClick:function(e,t){var n,c,a,o=null==t||null===(n=t[0])||void 0===n?void 0:n._index,i=null==t||null===(c=t[0])||void 0===c||null===(a=c._view)||void 0===a?void 0:a.label;isNaN(o)||r("pie-click",{index:o,label:i})}}});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.watch)((function(){return e.data}),(function(){o()})),Object(n.onMounted)((function(){o()})),{}}});He.render=Fe,He.__scopeId="data-v-952d5342";var Ee=He,ze=Object(n.defineComponent)({components:{PieChart:Ee,MovieRecordsPopup:ge},props:{id:{type:String,default:"js-area-pie"},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return M()(e.records,(function(e){return e.area}))})),r=Object(n.reactive)({data:Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object(n.computed)((function(){return Object.keys(t.value)}))}),c=Object(n.reactive)({label:"",records:[]});return{dataset:r,areaDetails:c,onClick:function(e){var r=e.label;c.label=r,c.records=t.value[r]}}}});ze.render=Le,ze.__scopeId="data-v-24d7f2c0";var Ue=ze,We=Object(n.withScopeId)("data-v-3cb85676");Object(n.pushScopeId)("data-v-3cb85676");var Je={class:"text-center py-2"};Object(n.popScopeId)();var Ge=We((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{type:"horizontalBar",id:e.id,key:e.id,data:e.dataset.data,labels:e.dataset.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.theaterDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.theaterDetails.records=t})},{title:We((function(){return[Object(n.createVNode)("div",Je,Object(n.toDisplayString)(e.theaterDetails.label),1)]})),_:1},8,["records"])],64)})),$e=Object(n.defineComponent)({components:{BarChart:me,MovieRecordsPopup:ge},props:{id:{type:String,default:"js-theater-bar"},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return M()(e.records,(function(e){return e.theater}))})),r=Object(n.reactive)({data:Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length})).sort((function(e,t){return e<t?1:-1}))})),labels:Object(n.computed)((function(){return Object.keys(t.value)}))}),c=Object(n.reactive)({label:"",records:[]});return{dataset:r,theaterDetails:c,onClick:function(e){var r=e.label;c.label=r,c.records=t.value[r]}}}});$e.render=Ge,$e.__scopeId="data-v-3cb85676";var Xe=$e,Ke=Object(n.withScopeId)("data-v-4a2922f9");Object(n.pushScopeId)("data-v-4a2922f9");var Qe={class:"text-center py-2"};Object(n.popScopeId)();var Ze=Ke((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("BarChart"),d=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(i,{type:"horizontalBar",id:e.id,data:e.data,labels:e.labels,onBarClick:e.onClick},null,8,["id","data","labels","onBarClick"]),Object(n.createVNode)(d,{records:e.versionDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.versionDetails.records=t})},{title:Ke((function(){return[Object(n.createVNode)("div",Qe,Object(n.toDisplayString)(e.versionDetails.label),1)]})),_:1},8,["records"])],64)})),et=Object(n.defineComponent)({components:{BarChart:me,MovieRecordsPopup:ge},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup:function(e){var t=Object(n.computed)((function(){return M()(e.records,(function(e){return e.version}))})),r=Object(n.reactive)({data:Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return t.value[e].length}))})),labels:Object(n.computed)((function(){return Object.keys(t.value).map((function(e){return e}))}))}),c=Object(n.reactive)({label:"",records:[]});return Object(be.a)(Object(be.a)({},Object(n.toRefs)(r)),{},{versionDetails:c,onClick:function(e){var r=e.label;c.label=r,c.records=t.value[r]}})}});et.render=Ze,et.__scopeId="data-v-4a2922f9";var tt=et,rt=Object(n.withScopeId)("data-v-9ed47314");Object(n.pushScopeId)("data-v-9ed47314");var nt={class:"mx-auto relative"},ct={class:"w-full overflow-x-auto"},at={class:"text-center py-2"};Object(n.popScopeId)();var ot=rt((function(e,t,r,c,a,o){var i=Object(n.resolveComponent)("MovieRecordsPopup");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)("div",nt,[Object(n.createVNode)("div",ct,[(Object(n.openBlock)(),Object(n.createBlock)("svg",{id:e.id,key:e.id,width:62*e.rectWidth,height:10*e.rectWidth},null,8,["id","width","height"]))])]),Object(n.createVNode)(i,{records:e.dayDetails.records,"onUpdate:records":t[1]||(t[1]=function(t){return e.dayDetails.records=t})},{title:rt((function(){return[Object(n.createVNode)("div",at,Object(n.toDisplayString)(e.formatDate(e.dayDetails.date,!1)),1)]})),_:1},8,["records"])],64)})),it=r("2909"),dt=Object(n.defineComponent)({components:{MovieRecordsPopup:ge},props:{id:{type:String,default:"js-contribution"},records:{type:Array,required:!0}},setup:function(e){var t=Array(12).fill("").map((function(e,t){return A()().month(t).format("MMM")})),r=Array(7).fill("").map((function(e,t){return A()().weekday(t).format("dd")})).filter((function(e,t){return t%2==1})),c=Object(n.computed)((function(){return M()(e.records,(function(e){return A()(e.date).dayOfYear()}))})),a=Object(n.reactive)({contributions:Object(n.computed)((function(){var t=A()(e.records[0].date).startOf("year"),r=t.isLeapYear()?366:365,n=t.isoWeekday()%7;return Array(n).fill("").map((function(){return{date:"",value:-1,records:[]}})).concat(Array(r).fill("").map((function(e,r){var n,a,o=t.add(r,"day"),i=null!==(n=null===(a=c.value[r+1])||void 0===a?void 0:a.length)&&void 0!==n?n:0,d=c.value[r+1]||[];return{date:o.toISOString(),value:i,records:d}})))}))}),o=Object(n.reactive)({date:"",records:[]});function i(){var n=Se.d("#".concat(e.id)),c=n.append("g").attr("class","mainChart").attr("transform","translate(".concat(20,", ").concat(20,")")).selectAll("rect").data(a.contributions),i=Se.b().domain([-1,0,1,2,3,4,5]).range(["#fff","#eee","#d6e685","#8cc665","#44a340","#1e6823"]);c.enter().append("rect").attr("height",15).attr("width",15).attr("fill",(function(e){return i(e.value)})).attr("y",(function(e,t){return t%7*17})).attr("x",(function(e,t){return 17*~~(t/7)})).attr("title",(function(e){return e.date})).attr("cursor",(function(e){return e.value>=0?"pointer":"initial"})).on("click",(function(e,t){o.date=t.date,o.records=Object(it.a)(t.records).reverse()})),n.append("g").attr("class","xAxis").selectAll("text").data(t).enter().append("text").text((function(e){return e})).attr("x",(function(e,t){return 17*t*4.333+32})).attr("y",12).style("text-anchor","middle").style("font-size",12),n.append("g").attr("class","yAxis").selectAll("text").data(r).enter().append("text").text((function(e){return e})).attr("y",(function(e,t){return 34*t+47})).attr("x",12).style("text-anchor","middle").style("font-size",12)}return Object(n.watch)((function(){return a.contributions}),Object(J.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.nextTick)();case 2:i();case 3:case"end":return e.stop()}}),e)})))),Object(n.onMounted)((function(){i()})),Object(be.a)(Object(be.a)({},Object(n.toRefs)(a)),{},{rectWidth:15,dayDetails:o,formatDate:function(e){return A()(e).format("YYYY/MM/DD (ddd)")}})}});dt.render=ot,dt.__scopeId="data-v-9ed47314";var lt=dt,ut=Object(n.defineComponent)({name:"App",components:{VanTabs:S.b,VanTab:N.a,VanSkeleton:V.a,VanCellGroup:B.a,VanCollapse:w.b,VanCollapseItem:C.a,VanTag:g.a,MovieRecordCell:le,FrequencyBarChart:we,TimeHeatmapChart:Me,TotalAnalytics:Pe,AreaPieChart:Ue,TheaterBarChart:Xe,VersionBarChart:tt,ContributionChart:lt,LineChart:Q},setup:function(){var e,t=Object(_.a)((e="https://mechakucha-api.herokuapp.com/my-movie-record",new Promise((function(t,r){var n=new XMLHttpRequest;n.addEventListener("progress",(function(e){e.lengthComputable})),n.addEventListener("load",(function(){return t(JSON.parse(n.response))})),n.addEventListener("error",(function(e){return r(e)})),n.addEventListener("abort",(function(e){return r(e)})),n.open("GET",e),n.send()}))),{success:!1,resultMessage:"",resultCode:"",resultException:"",items:[]}),r=t.state,c=t.ready,a=Object(n.ref)("data"),o=Object(n.ref)(""),i=Object(n.ref)(A()().year()),d=Object(n.computed)((function(){return r.value.items})),l=Object(n.computed)((function(){var e=M()(d.value,(function(e){return A()(e.date).year()}));return Object.keys(e).sort((function(e,t){return+e>+t?-1:1})).map((function(t){return{id:+t,records:e[t]}}))})),u=Object(n.computed)((function(){return l.value.find((function(e){return e.id===i.value}))})),s=Object(n.computed)((function(){var e=M()(d.value,(function(e){return e.title}));return Object.keys(e).map((function(t){return{title:t,count:e[t].length,records:d.value.filter((function(e){return t===e.title}))}})).filter((function(e){return e.count>1})).sort((function(e,t){return e.count>t.count?-1:1}))}));return{ready:c,activeTab:a,activeCollapse:o,records:d,arrayByYear:l,arrayByTitle:s,filterYear:i,filterArrayByYear:u,formatDate:U}}});ut.render=function(e,t,r,g,C,w){var B=Object(n.resolveComponent)("TotalAnalytics"),V=Object(n.resolveComponent)("ContributionChart"),N=Object(n.resolveComponent)("MovieRecordCell"),S=Object(n.resolveComponent)("van-cell-group"),_=Object(n.resolveComponent)("van-tab"),D=Object(n.resolveComponent)("van-tabs"),M=Object(n.resolveComponent)("LineChart"),I=Object(n.resolveComponent)("FrequencyBarChart"),A=Object(n.resolveComponent)("TimeHeatmapChart"),R=Object(n.resolveComponent)("TheaterBarChart"),T=Object(n.resolveComponent)("VersionBarChart"),P=Object(n.resolveComponent)("AreaPieChart"),Y=Object(n.resolveComponent)("van-tag"),q=Object(n.resolveComponent)("van-collapse-item"),L=Object(n.resolveComponent)("van-collapse"),F=Object(n.resolveComponent)("van-skeleton");return Object(n.openBlock)(),Object(n.createBlock)("div",{class:e.ready?"":"py-4"},[Object(n.createVNode)(F,{title:"",row:10,loading:!e.ready},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(D,{active:e.activeTab,"onUpdate:active":t[2]||(t[2]=function(t){return e.activeTab=t}),name:"data",sticky:"",border:""},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(_,{title:"資料"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",c,[Object(n.createVNode)(B,{records:e.records},null,8,["records"])]),Object(n.createVNode)(D,{"offset-top":44,"line-height":1,scrollspy:"",sticky:"",border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",a,[Object(n.createVNode)(S,{border:""},{title:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",o,Object(n.toDisplayString)(e.id),1),Object(n.createVNode)("div",i,[Object(n.createVNode)(V,{id:"js-contribution-".concat(e.id),records:e.records},null,8,["id","records"])]),Object(n.createVNode)(B,{records:e.records},null,8,["records"])]})),default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(N,{record:e,key:"".concat(e.date,"_").concat(e.title)},null,8,["record"])})),128))]})),_:2},1024)])]})),_:2},1032,["title"])})),128))]})),_:1})]})),_:1}),Object(n.createVNode)(_,{title:"場數"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",d,[Object(n.createVNode)(M,{id:"total",records:e.records},null,8,["records"]),l,Object(n.createVNode)(I,{id:"js-frequency-all",records:e.records},null,8,["records"]),Object(n.createVNode)(D,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",u,Object(n.toDisplayString)(e.id)+" 每個月各看了幾場電影",1),Object(n.createVNode)(I,{id:"js-frequency-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])]})),_:1}),Object(n.createVNode)(_,{title:"時間"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",s,[Object(n.createVNode)(A,{id:"js-heatmap-all",records:e.records},null,8,["records"]),Object(n.createVNode)("div",p,[Object(n.createVNode)(D,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(A,{id:"js-heatmap-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])])]})),_:1}),Object(n.createVNode)(_,{title:"影廳"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",b,[Object(n.createVNode)(R,{id:"js-theater-bar-all",records:e.records},null,8,["records"]),Object(n.createVNode)("div",f,[Object(n.createVNode)(D,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(R,{id:"js-theater-bar-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])])]})),_:1}),Object(n.createVNode)(_,{title:"版本"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",j,[Object(n.createVNode)(T,{id:"js-version-bar-all",records:e.records},null,8,["records"]),Object(n.createVNode)("div",O,[Object(n.createVNode)(D,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(T,{id:"js-version-bar-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])])]})),_:1}),Object(n.createVNode)(_,{title:"國別"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",v,[Object(n.createVNode)(P,{id:"js-area-pie-all",records:e.records},null,8,["records"]),Object(n.createVNode)("div",m,[Object(n.createVNode)(D,{"line-height":1,border:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByYear,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(_,{title:"".concat(e.id),key:e.id},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)(P,{id:"js-area-pie-".concat(e.id),records:e.records},null,8,["id","records"])]})),_:2},1032,["title"])})),128))]})),_:1})])])]})),_:1}),Object(n.createVNode)(_,{title:"多刷"},{default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",y,[Object(n.createVNode)(L,{modelValue:e.activeCollapse,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.activeCollapse=t}),accordion:""},{default:Object(n.withCtx)((function(){return[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.arrayByTitle,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(q,{key:e.title,name:e.title},{title:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",h,[Object(n.createVNode)(Y,{class:"mr-2",type:"primary",plain:"",size:"medium"},{default:Object(n.withCtx)((function(){return[Object(n.createTextVNode)("x "+Object(n.toDisplayString)(e.count),1)]})),_:2},1024),Object(n.createVNode)("span",k,Object(n.toDisplayString)(e.title),1)])]})),default:Object(n.withCtx)((function(){return[Object(n.createVNode)("div",x,[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(e.records,(function(e){return Object(n.openBlock)(),Object(n.createBlock)(N,{record:e,key:"".concat(e.date,"_").concat(e.title),hideTitle:"",size:"mini"},null,8,["record"])})),128))])]})),_:2},1032,["name"])})),128))]})),_:1},8,["modelValue"])])]})),_:1})]})),_:1},8,["active"])]})),_:1},8,["loading"])],2)};var st=ut,pt=r("9483");Object(pt.a)("".concat("/movie-record/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(e){}}),r("def6"),r("a41b"),Object(n.createApp)(st).mount("#app")},def6:function(e,t,r){}});