import{u as Mt,a as Xe,b as Ie,C as rt,c as at,d as U,g as Pt,e as ot,_ as J,f as nt,h as Ot,S as Dt,T as Rt,i as At,j as It,k as jt,r as Et}from"./index-Du6f3AJh.js";import{t as Z,u as st,n as ve,o as zt,a as lt,b as Vt,w as ne,g as Lt,p as it,r as F,d as V,c as pe,e as dt,f as y,T as je,h as ut,i as Se,j as qt,k as ct,l as Ee,v as ze,m as we,q as ye,s as O,x as Ve,y as Nt,F as N,z as ke,A as Be,H as ft,I as vt,B as Ht,C as Yt,D as Ut,E as Ft,G as Ze,J as Wt,K as Gt,_ as W,L as H,M as Kt,N as k,O as M,P as S,Q as P,R,S as Ce,U as j,V as Xt,W as Zt,X,Y as G,Z as Te,$ as Jt,a0 as Qt,a1 as er}from"./index-wD377v6E.js";import{c as tr,P as rr}from"./on-popup-reopen-Ds6LyBC-.js";import{r as ar,C as Me,c as oe,L as or}from"./LineChart-CbD5IKbK.js";import{C as nr,T as sr}from"./TimeHeatmapChart-Gjva0DXn.js";let lr=2e3;const ir=()=>++lr,dr={show:Boolean,zIndex:ve,overlay:Z,duration:ve,teleport:[String,Object],lockScroll:Z,lazyRender:Z,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:st,transitionAppear:Boolean,closeOnClickOverlay:Z};let fe=0;const Je="van-overflow-hidden";function ur(t,d){const u=Mt(),f="01",v="10",p=_=>{u.move(_);const x=u.deltaY.value>0?v:f,$=Lt(_.target,t.value),{scrollHeight:B,offsetHeight:A,scrollTop:D}=$;let I="11";D===0?I=A>=B?"00":"01":D+A>=B&&(I="10"),I!=="11"&&u.isVertical()&&!(parseInt(I,2)&parseInt(x,2))&&it(_,!0)},l=()=>{document.addEventListener("touchstart",u.start),document.addEventListener("touchmove",p,{passive:!1}),fe||document.body.classList.add(Je),fe++},c=()=>{fe&&(document.removeEventListener("touchstart",u.start),document.removeEventListener("touchmove",p),fe--,fe||document.body.classList.remove(Je))},m=()=>d()&&l(),g=()=>d()&&c();zt(m),lt(g),Vt(g),ne(d,_=>{_?l():c()})}function Le(t){const d=F(!1);return ne(t,u=>{u&&(d.value=u)},{immediate:!0}),u=>()=>d.value?u():null}const[cr,fr]=pe("overlay"),vr={show:Boolean,zIndex:ve,duration:ve,className:st,lockScroll:Z,lazyRender:Z,customStyle:Object,teleport:[String,Object]};var pr=V({name:cr,inheritAttrs:!1,props:vr,setup(t,{attrs:d,slots:u}){const f=F(),v=Le(()=>t.show||!t.lazyRender),p=c=>{t.lockScroll&&it(c,!0)},l=v(()=>{var c;const m=Se(qt(t.zIndex),t.customStyle);return ct(t.duration)&&(m.animationDuration=`${t.duration}s`),Ee(y("div",we({ref:f,style:m,class:[fr(),t.className]},d),[(c=u.default)==null?void 0:c.call(u)]),[[ze,t.show]])});return dt("touchmove",p,{target:f}),()=>{const c=y(je,{name:"van-fade",appear:!0},{default:l});return t.teleport?y(ut,{to:t.teleport},{default:()=>[c]}):c}}});const yr=ye(pr),hr=Se({},dr,{round:Boolean,position:ke("center"),closeIcon:ke("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:ke("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[mr,Qe]=pe("popup");var br=V({name:mr,inheritAttrs:!1,props:hr,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:d,attrs:u,slots:f}){let v,p;const l=F(),c=F(),m=Le(()=>t.show||!t.lazyRender),g=O(()=>{const h={zIndex:l.value};if(ct(t.duration)){const z=t.position==="center"?"animationDuration":"transitionDuration";h[z]=`${t.duration}s`}return h}),_=()=>{v||(v=!0,l.value=t.zIndex!==void 0?+t.zIndex:ir(),d("open"))},x=()=>{v&&tr(t.beforeClose,{done(){v=!1,d("close"),d("update:show",!1)}})},$=h=>{d("clickOverlay",h),t.closeOnClickOverlay&&x()},B=()=>{if(t.overlay){const h=Se({show:t.show,class:t.overlayClass,zIndex:l.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return y(yr,we(h,Xe(),{onClick:$}),{default:f["overlay-content"]})}},A=h=>{d("clickCloseIcon",h),x()},D=()=>{if(t.closeable)return y(vt,{role:"button",tabindex:0,name:t.closeIcon,class:[Qe("close-icon",t.closeIconPosition),ft],classPrefix:t.iconPrefix,onClick:A},null)};let I;const L=()=>{I&&clearTimeout(I),I=setTimeout(()=>{d("opened")})},E=()=>d("closed"),Q=h=>d("keydown",h),le=m(()=>{var h;const{destroyOnClose:z,round:ie,position:ae,safeAreaInsetTop:he,safeAreaInsetBottom:Oe,show:me}=t;if(!(!me&&z))return Ee(y("div",we({ref:c,style:g.value,role:"dialog",tabindex:0,class:[Qe({round:ie,[ae]:ae}),{"van-safe-area-top":he,"van-safe-area-bottom":Oe}],onKeydown:Q},u,Xe()),[(h=f.default)==null?void 0:h.call(f),D()]),[[ze,me]])}),re=()=>{const{position:h,transition:z,transitionAppear:ie}=t,ae=h==="center"?"van-fade":`van-popup-slide-${h}`;return y(je,{name:z||ae,appear:ie,onAfterEnter:L,onAfterLeave:E},{default:le})};return ne(()=>t.show,h=>{h&&!v&&(_(),u.tabindex===0&&Be(()=>{var z;(z=c.value)==null||z.focus()})),!h&&v&&(v=!1,d("close"))}),Ie({popupRef:c}),ur(c,()=>t.show&&t.lockScroll),dt("popstate",()=>{t.closeOnPopstate&&(x(),p=!1)}),Ve(()=>{t.show&&_()}),Nt(()=>{p&&(d("update:show",!0),p=!1)}),lt(()=>{t.show&&t.teleport&&(x(),p=!0)}),Ht(rr,()=>t.show),()=>t.teleport?y(ut,{to:t.teleport},{default:()=>[B(),re()]}):y(N,null,[B(),re()])}});const _r=ye(br),[gr,et]=pe("tag"),xr={size:String,mark:Boolean,show:Z,type:ke("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var kr=V({name:gr,props:xr,emits:["close"],setup(t,{slots:d,emit:u}){const f=l=>{l.stopPropagation(),u("close",l)},v=()=>t.plain?{color:t.textColor||t.color,borderColor:t.color}:{color:t.textColor,background:t.color},p=()=>{var l;const{type:c,mark:m,plain:g,round:_,size:x,closeable:$}=t,B={mark:m,plain:g,round:_};x&&(B[x]=x);const A=$&&y(vt,{name:"cross",class:[et("close"),ft],onClick:f},null);return y("span",{style:v(),class:et([B,c])},[(l=d.default)==null?void 0:l.call(d),A])};return()=>y(je,{name:t.closeable?"van-fade":void 0},{default:()=>[t.show?p():null]})}});const pt=ye(kr),[yt,Cr]=pe("collapse"),ht=Symbol(yt),$r={border:Z,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var wr=V({name:yt,props:$r,emits:["change","update:modelValue"],setup(t,{emit:d,slots:u}){const{linkChildren:f,children:v}=Yt(ht),p=g=>{d("change",g),d("update:modelValue",g)},l=(g,_)=>{const{accordion:x,modelValue:$}=t;p(x?g===$?"":g:_?$.concat(g):$.filter(B=>B!==g))},c=(g={})=>{if(t.accordion)return;typeof g=="boolean"&&(g={expanded:g});const{expanded:_,skipDisabled:x}=g,B=v.filter(A=>A.disabled&&x?A.expanded.value:_??!A.expanded.value).map(A=>A.itemName.value);p(B)},m=g=>{const{accordion:_,modelValue:x}=t;return _?x===g:x.includes(g)};return Ie({toggleAll:c}),f({toggle:l,isExpanded:m}),()=>{var g;return y("div",{class:[Cr(),{[Ut]:t.border}]},[(g=u.default)==null?void 0:g.call(u)])}}});const Sr=ye(wr),[Br,xe]=pe("collapse-item"),Tr=["icon","title","value","label","right-icon"],Mr=Se({},at,{name:ve,isLink:Z,disabled:Boolean,readonly:Boolean,lazyRender:Z});var Pr=V({name:Br,props:Mr,setup(t,{slots:d}){const u=F(),f=F(),{parent:v,index:p}=Ft(ht);if(!v)return;const l=O(()=>{var D;return(D=t.name)!=null?D:p.value}),c=O(()=>v.isExpanded(l.value)),m=F(c.value),g=Le(()=>m.value||!t.lazyRender),_=()=>{c.value?u.value&&(u.value.style.height=""):m.value=!1};ne(c,(D,I)=>{if(I===null)return;D&&(m.value=!0),(D?Be:Wt)(()=>{if(!f.value||!u.value)return;const{offsetHeight:E}=f.value;if(E){const Q=`${E}px`;u.value.style.height=D?"0":Q,Gt(()=>{u.value&&(u.value.style.height=D?Q:"0")})}else _()})});const x=(D=!c.value)=>{v.toggle(l.value,D)},$=()=>{!t.disabled&&!t.readonly&&x()},B=()=>{const{border:D,disabled:I,readonly:L}=t,E=Ze(t,Object.keys(at));return L&&(E.isLink=!1),(I||L)&&(E.clickable=!1),y(rt,we({role:"button",class:xe("title",{disabled:I,expanded:c.value,borderless:!D}),"aria-expanded":String(c.value),onClick:$},E),Ze(d,Tr))},A=g(()=>{var D;return Ee(y("div",{ref:u,class:xe("wrapper"),onTransitionend:_},[y("div",{ref:f,class:xe("content")},[(D=d.default)==null?void 0:D.call(d)])]),[[ze,m.value]])});return Ie({toggle:x,expanded:c,itemName:l}),()=>y("div",{class:[xe({border:p.value&&t.border})]},[B(),A()])}});const Or=ye(Pr),Dr=V({components:{VanCell:rt,VanTag:pt},props:{record:{type:Object,required:!0},format:{type:String,default:"YYYY/MM/DD HH:mm"},size:{type:String,default:"large"},hideTitle:{type:Boolean,default:!1},index:{type:Number}},setup(t){function d(u){return U(u).format(t.format)}return{formatDateTime:d}}}),Rr={class:"mr-3 bg-gray-100 rounded-full w-7 h-7 text-xs flex items-center justify-center font-medium"},Ar={key:0,class:"font-normal"},Ir={class:"mb-2"},jr={class:"text-sm"},Er={class:"text-xs mt-2"},zr={class:"text-right text-gray-500 ml-1"},Vr={class:"text-xs"};function Lr(t,d,u,f,v,p){const l=M("VanTag"),c=M("VanCell");return S(),H(c,{center:"",border:"",size:t.size},Kt({title:k(()=>[t.hideTitle?Xt("",!0):(S(),j("div",Ar,R(t.record.title),1))]),label:k(()=>[P("div",Ir,[y(l,{class:"mr-2",plain:"",type:"default"},{default:k(()=>[Ce(R(t.record.area),1)]),_:1}),y(l,{class:"mr-2",plain:"",type:"primary"},{default:k(()=>[Ce(R(t.record.version),1)]),_:1}),y(l,{plain:"",type:"success"},{default:k(()=>[Ce(R(t.record.theater),1)]),_:1})]),P("div",jr,R(t.record.memo),1),P("div",Er,R(t.formatDateTime(t.record.date)),1)]),extra:k(()=>[P("div",zr,[P("div",null,"x "+R(t.record.tickets),1),P("div",Vr," $ "+R(t.record.cost),1)])]),_:2},[t.index?{name:"icon",fn:k(()=>[P("span",Rr,R(t.index),1)]),key:"0"}:void 0]),1032,["size"])}const mt=W(Dr,[["render",Lr]]),qr=V({components:{VanPopup:_r,MovieRecordCell:mt},props:{records:{type:Array,required:!0}},emits:["update:records"],setup(t,{emit:d}){return{show:O({get(){return t.records.length>0},set(f){f||d("update:records",[])}})}}}),Nr={class:"pb-8 overflow-y-auto h-calc"};function Hr(t,d,u,f,v,p){const l=M("MovieRecordCell"),c=M("VanPopup");return S(),H(c,{show:t.show,"onUpdate:show":d[0]||(d[0]=m=>t.show=m),round:"",position:"bottom",style:{height:"90%"},closeable:""},{default:k(()=>[Zt(t.$slots,"title",{},void 0,!0),P("div",Nr,[(S(!0),j(N,null,X(t.records,(m,g)=>(S(),H(l,{key:`${m.date}_${m.title}`,record:m,index:t.records.length-g},null,8,["record","index"]))),128))])]),_:3},8,["show"])}const se=W(qr,[["render",Hr],["__scopeId","data-v-febc9fa5"]]);var $e={exports:{}};/*!
 * chartjs-plugin-datalabels v0.7.0
 * https://chartjs-plugin-datalabels.netlify.com
 * (c) 2019 Chart.js Contributors
 * Released under the MIT license
 */var Yr=$e.exports,tt;function Ur(){return tt||(tt=1,function(t,d){(function(u,f){t.exports=f(ar())})(Yr,function(u){u=u&&u.hasOwnProperty("default")?u.default:u;var f=u.helpers,v=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),p={toTextLines:function(e){var o=[],r;for(e=[].concat(e);e.length;)r=e.pop(),typeof r=="string"?o.unshift.apply(o,r.split(`
`)):Array.isArray(r)?e.push.apply(e,r):f.isNullOrUndef(e)||o.unshift(""+r);return o},toFontString:function(e){return!e||f.isNullOrUndef(e.size)||f.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,o,r){var a=[].concat(o),n=a.length,s=e.font,i=0,b;for(e.font=r.string,b=0;b<n;++b)i=Math.max(e.measureText(a[b]).width,i);return e.font=s,{height:n*r.lineHeight,width:i}},parseFont:function(e){var o=u.defaults.global,r=f.valueOrDefault(e.size,o.defaultFontSize),a={family:f.valueOrDefault(e.family,o.defaultFontFamily),lineHeight:f.options.toLineHeight(e.lineHeight,r),size:r,style:f.valueOrDefault(e.style,o.defaultFontStyle),weight:f.valueOrDefault(e.weight,null),string:""};return a.string=p.toFontString(a),a},bound:function(e,o,r){return Math.max(e,Math.min(o,r))},arrayDiff:function(e,o){var r=e.slice(),a=[],n,s,i,b;for(n=0,i=o.length;n<i;++n)b=o[n],s=r.indexOf(b),s===-1?a.push([b,1]):r.splice(s,1);for(n=0,i=r.length;n<i;++n)a.push([r[n],-1]);return a},rasterize:function(e){return Math.round(e*v)/v}};function l(e,o){var r=o.x,a=o.y;if(r===null)return{x:0,y:-1};if(a===null)return{x:1,y:0};var n=e.x-r,s=e.y-a,i=Math.sqrt(n*n+s*s);return{x:i?n/i:0,y:i?s/i:-1}}function c(e,o,r,a,n){switch(n){case"center":r=a=0;break;case"bottom":r=0,a=1;break;case"right":r=1,a=0;break;case"left":r=-1,a=0;break;case"top":r=0,a=-1;break;case"start":r=-r,a=-a;break;case"end":break;default:n*=Math.PI/180,r=Math.cos(n),a=Math.sin(n);break}return{x:e,y:o,vx:r,vy:a}}var m=0,g=1,_=2,x=4,$=8;function B(e,o,r){var a=m;return e<r.left?a|=g:e>r.right&&(a|=_),o<r.top?a|=$:o>r.bottom&&(a|=x),a}function A(e,o){for(var r=e.x0,a=e.y0,n=e.x1,s=e.y1,i=B(r,a,o),b=B(n,s,o),C,w,T;!(!(i|b)||i&b);)C=i||b,C&$?(w=r+(n-r)*(o.top-a)/(s-a),T=o.top):C&x?(w=r+(n-r)*(o.bottom-a)/(s-a),T=o.bottom):C&_?(T=a+(s-a)*(o.right-r)/(n-r),w=o.right):C&g&&(T=a+(s-a)*(o.left-r)/(n-r),w=o.left),C===i?(r=w,a=T,i=B(r,a,o)):(n=w,s=T,b=B(n,s,o));return{x0:r,x1:n,y0:a,y1:s}}function D(e,o){var r=o.anchor,a=e,n,s;return o.clamp&&(a=A(a,o.area)),r==="start"?(n=a.x0,s=a.y0):r==="end"?(n=a.x1,s=a.y1):(n=(a.x0+a.x1)/2,s=(a.y0+a.y1)/2),c(n,s,e.vx,e.vy,o.align)}var I={arc:function(e,o){var r=(e.startAngle+e.endAngle)/2,a=Math.cos(r),n=Math.sin(r),s=e.innerRadius,i=e.outerRadius;return D({x0:e.x+a*s,y0:e.y+n*s,x1:e.x+a*i,y1:e.y+n*i,vx:a,vy:n},o)},point:function(e,o){var r=l(e,o.origin),a=r.x*e.radius,n=r.y*e.radius;return D({x0:e.x-a,y0:e.y-n,x1:e.x+a,y1:e.y+n,vx:r.x,vy:r.y},o)},rect:function(e,o){var r=l(e,o.origin),a=e.x,n=e.y,s=0,i=0;return e.horizontal?(a=Math.min(e.x,e.base),s=Math.abs(e.base-e.x)):(n=Math.min(e.y,e.base),i=Math.abs(e.base-e.y)),D({x0:a,y0:n+i,x1:a+s,y1:n,vx:r.x,vy:r.y},o)},fallback:function(e,o){var r=l(e,o.origin);return D({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:r.x,vy:r.y},o)}},L=u.helpers,E=p.rasterize;function Q(e){var o=e.borderWidth||0,r=e.padding,a=e.size.height,n=e.size.width,s=-n/2,i=-a/2;return{frame:{x:s-r.left-o,y:i-r.top-o,w:n+r.width+o*2,h:a+r.height+o*2},text:{x:s,y:i,w:n,h:a}}}function le(e){var o=e._model.horizontal,r=e._scale||o&&e._xScale||e._yScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var a=r.getBasePixel();return o?{x:a,y:null}:{x:null,y:a}}function re(e){return e instanceof u.elements.Arc?I.arc:e instanceof u.elements.Point?I.point:e instanceof u.elements.Rectangle?I.rect:I.fallback}function h(e,o,r){var a=r.backgroundColor,n=r.borderColor,s=r.borderWidth;!a&&(!n||!s)||(e.beginPath(),L.canvas.roundedRect(e,E(o.x)+s/2,E(o.y)+s/2,E(o.w)-s,E(o.h)-s,r.borderRadius),e.closePath(),a&&(e.fillStyle=a,e.fill()),n&&s&&(e.strokeStyle=n,e.lineWidth=s,e.lineJoin="miter",e.stroke()))}function z(e,o,r){var a=r.lineHeight,n=e.w,s=e.x,i=e.y+a/2;return o==="center"?s+=n/2:(o==="end"||o==="right")&&(s+=n),{h:a,w:n,x:s,y:i}}function ie(e,o,r){var a=e.shadowBlur,n=r.stroked,s=E(r.x),i=E(r.y),b=E(r.w);n&&e.strokeText(o,s,i,b),r.filled&&(a&&n&&(e.shadowBlur=0),e.fillText(o,s,i,b),a&&n&&(e.shadowBlur=a))}function ae(e,o,r,a){var n=a.textAlign,s=a.color,i=!!s,b=a.font,C=o.length,w=a.textStrokeColor,T=a.textStrokeWidth,q=w&&T,K;if(!(!C||!i&&!q))for(r=z(r,n,b),e.font=b.string,e.textAlign=n,e.textBaseline="middle",e.shadowBlur=a.textShadowBlur,e.shadowColor=a.textShadowColor,i&&(e.fillStyle=s),q&&(e.lineJoin="round",e.lineWidth=T,e.strokeStyle=w),K=0,C=o.length;K<C;++K)ie(e,o[K],{stroked:q,filled:i,w:r.w,x:r.x,y:r.y+r.h*K})}var he=function(e,o,r,a){var n=this;n._config=e,n._index=a,n._model=null,n._rects=null,n._ctx=o,n._el=r};L.extend(he.prototype,{_modelize:function(e,o,r,a){var n=this,s=n._index,i=L.options.resolve,b=p.parseFont(i([r.font,{}],a,s)),C=i([r.color,u.defaults.global.defaultFontColor],a,s);return{align:i([r.align,"center"],a,s),anchor:i([r.anchor,"center"],a,s),area:a.chart.chartArea,backgroundColor:i([r.backgroundColor,null],a,s),borderColor:i([r.borderColor,null],a,s),borderRadius:i([r.borderRadius,0],a,s),borderWidth:i([r.borderWidth,0],a,s),clamp:i([r.clamp,!1],a,s),clip:i([r.clip,!1],a,s),color:C,display:e,font:b,lines:o,offset:i([r.offset,0],a,s),opacity:i([r.opacity,1],a,s),origin:le(n._el),padding:L.options.toPadding(i([r.padding,0],a,s)),positioner:re(n._el),rotation:i([r.rotation,0],a,s)*(Math.PI/180),size:p.textSize(n._ctx,o,b),textAlign:i([r.textAlign,"start"],a,s),textShadowBlur:i([r.textShadowBlur,0],a,s),textShadowColor:i([r.textShadowColor,C],a,s),textStrokeColor:i([r.textStrokeColor,C],a,s),textStrokeWidth:i([r.textStrokeWidth,0],a,s)}},update:function(e){var o=this,r=null,a=null,n=o._index,s=o._config,i,b,C,w=L.options.resolve([s.display,!0],e,n);w&&(i=e.dataset.data[n],b=L.valueOrDefault(L.callback(s.formatter,[i,e]),i),C=L.isNullOrUndef(b)?[]:p.toTextLines(b),C.length&&(r=o._modelize(w,C,s,e),a=Q(r))),o._model=r,o._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,o){var r=this,a=e.ctx,n=r._model,s=r._rects,i;this.visible()&&(a.save(),n.clip&&(i=n.area,a.beginPath(),a.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),a.clip()),a.globalAlpha=p.bound(0,n.opacity,1),a.translate(E(o.x),E(o.y)),a.rotate(n.rotation),h(a,s.frame,n),ae(a,n.lines,s.text,n),a.restore())}});var Oe=u.helpers,me=Number.MIN_SAFE_INTEGER||-9007199254740991,bt=Number.MAX_SAFE_INTEGER||9007199254740991;function de(e,o,r){var a=Math.cos(r),n=Math.sin(r),s=o.x,i=o.y;return{x:s+a*(e.x-s)-n*(e.y-i),y:i+n*(e.x-s)+a*(e.y-i)}}function Ne(e,o){var r=bt,a=me,n=o.origin,s,i,b,C,w;for(s=0;s<e.length;++s)i=e[s],b=i.x-n.x,C=i.y-n.y,w=o.vx*b+o.vy*C,r=Math.min(r,w),a=Math.max(a,w);return{min:r,max:a}}function be(e,o){var r=o.x-e.x,a=o.y-e.y,n=Math.sqrt(r*r+a*a);return{vx:(o.x-e.x)/n,vy:(o.y-e.y)/n,origin:e,ln:n}}var He=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Oe.extend(He.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,o,r){this._rotation=r,this._rect={x:o.x+e.x,y:o.y+e.y,w:o.w,h:o.h}},contains:function(e){var o=this,r=1,a=o._rect;return e=de(e,o.center(),-o._rotation),!(e.x<a.x-r||e.y<a.y-r||e.x>a.x+a.w+r*2||e.y>a.y+a.h+r*2)},intersects:function(e){var o=this._points(),r=e._points(),a=[be(o[0],o[1]),be(o[0],o[3])],n,s,i;for(this._rotation!==e._rotation&&a.push(be(r[0],r[1]),be(r[0],r[3])),n=0;n<a.length;++n)if(s=Ne(o,a[n]),i=Ne(r,a[n]),s.max<i.min||i.max<s.min)return!1;return!0},_points:function(){var e=this,o=e._rect,r=e._rotation,a=e.center();return[de({x:o.x,y:o.y},a,r),de({x:o.x+o.w,y:o.y},a,r),de({x:o.x+o.w,y:o.y+o.h},a,r),de({x:o.x,y:o.y+o.h},a,r)]}});function Ye(e,o,r){var a=o.positioner(e,o),n=a.vx,s=a.vy;if(!n&&!s)return{x:a.x,y:a.y};var i=r.w,b=r.h,C=o.rotation,w=Math.abs(i/2*Math.cos(C))+Math.abs(b/2*Math.sin(C)),T=Math.abs(i/2*Math.sin(C))+Math.abs(b/2*Math.cos(C)),q=1/Math.max(Math.abs(n),Math.abs(s));return w*=n*q,T*=s*q,w+=o.offset*n,T+=o.offset*s,{x:a.x+w,y:a.y+T}}function _t(e,o){var r,a,n,s;for(r=e.length-1;r>=0;--r)for(n=e[r].$layout,a=r-1;a>=0&&n._visible;--a)s=e[a].$layout,s._visible&&n._box.intersects(s._box)&&o(n,s);return e}function gt(e){var o,r,a,n,s,i;for(o=0,r=e.length;o<r;++o)a=e[o],n=a.$layout,n._visible&&(s=a.geometry(),i=Ye(a._el._model,a.model(),s),n._box.update(i,s,a.rotation()));return _t(e,function(b,C){var w=b._hidable,T=C._hidable;w&&T||T?C._visible=!1:w&&(b._visible=!1)})}var ue={prepare:function(e){var o=[],r,a,n,s,i;for(r=0,n=e.length;r<n;++r)for(a=0,s=e[r].length;a<s;++a)i=e[r][a],o.push(i),i.$layout={_box:new He,_hidable:!1,_visible:!0,_set:r,_idx:a};return o.sort(function(b,C){var w=b.$layout,T=C.$layout;return w._idx===T._idx?T._set-w._set:T._idx-w._idx}),this.update(o),o},update:function(e){var o=!1,r,a,n,s,i;for(r=0,a=e.length;r<a;++r)n=e[r],s=n.model(),i=n.$layout,i._hidable=s&&s.display==="auto",i._visible=n.visible(),o|=i._hidable;o&&gt(e)},lookup:function(e,o){var r,a;for(r=e.length-1;r>=0;--r)if(a=e[r].$layout,a&&a._visible&&a._box.contains(o))return e[r];return null},draw:function(e,o){var r,a,n,s,i,b;for(r=0,a=o.length;r<a;++r)n=o[r],s=n.$layout,s._visible&&(i=n.geometry(),b=Ye(n._el._view,n.model(),i),s._box.update(b,i,n.rotation()),n.draw(e,b))}},_e=u.helpers,xt=function(e){if(_e.isNullOrUndef(e))return null;var o=e,r,a,n;if(_e.isObject(e))if(!_e.isNullOrUndef(e.label))o=e.label;else if(!_e.isNullOrUndef(e.r))o=e.r;else for(o="",r=Object.keys(e),n=0,a=r.length;n<a;++n)o+=(n!==0?", ":"")+r[n]+": "+e[r[n]];return""+o},kt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:xt,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},ce=u.helpers,Y="$datalabels",Ue="$default";function Ct(e,o){var r=e.datalabels,a={},n=[],s,i;return r===!1?null:(r===!0&&(r={}),o=ce.merge({},[o,r]),s=o.labels||{},i=Object.keys(s),delete o.labels,i.length?i.forEach(function(b){s[b]&&n.push(ce.merge({},[o,s[b],{_key:b}]))}):n.push(o),a=n.reduce(function(b,C){return ce.each(C.listeners||{},function(w,T){b[T]=b[T]||{},b[T][C._key||Ue]=w}),delete C.listeners,b},{}),{labels:n,listeners:a})}function De(e,o,r){if(o){var a=r.$context,n=r.$groups,s;o[n._set]&&(s=o[n._set][n._key],s&&ce.callback(s,[a])===!0&&(e[Y]._dirty=!0,r.update(a)))}}function $t(e,o,r,a){var n,s;!r&&!a||(r?a?r!==a&&(s=n=!0):s=!0:n=!0,s&&De(e,o.leave,r),n&&De(e,o.enter,a))}function wt(e,o){var r=e[Y],a=r._listeners,n,s;if(!(!a.enter&&!a.leave)){if(o.type==="mousemove")s=ue.lookup(r._labels,o);else if(o.type!=="mouseout")return;n=r._hovered,r._hovered=s,$t(e,a,n,s)}}function St(e,o){var r=e[Y],a=r._listeners.click,n=a&&ue.lookup(r._labels,o);n&&De(e,a,n)}function Bt(e){if(!e.animating){for(var o=u.animationService.animations,r=0,a=o.length;r<a;++r)if(o[r].chart===e)return;e.render({duration:1,lazy:!0})}}u.defaults.global.plugins.datalabels=kt;var Fe={id:"datalabels",beforeInit:function(e){e[Y]={_actives:[]}},beforeUpdate:function(e){var o=e[Y];o._listened=!1,o._listeners={},o._datasets=[],o._labels=[]},afterDatasetUpdate:function(e,o,r){var a=o.index,n=e[Y],s=n._datasets[a]=[],i=e.isDatasetVisible(a),b=e.data.datasets[a],C=Ct(b,r),w=o.meta.data||[],T=e.ctx,q,K,We,Ge,Re,Ke,ee,te;for(T.save(),q=0,We=w.length;q<We;++q)if(ee=w[q],ee[Y]=[],i&&ee&&!ee.hidden&&!ee._model.skip)for(K=0,Ge=C.labels.length;K<Ge;++K)Re=C.labels[K],Ke=Re._key,te=new he(Re,T,ee,q),te.$groups={_set:a,_key:Ke||Ue},te.$context={active:!1,chart:e,dataIndex:q,dataset:b,datasetIndex:a},te.update(te.$context),ee[Y].push(te),s.push(te);T.restore(),ce.merge(n._listeners,C.listeners,{merger:function(ge,Ae,Tt){Ae[ge]=Ae[ge]||{},Ae[ge][o.index]=Tt[ge],n._listened=!0}})},afterUpdate:function(e,o){e[Y]._labels=ue.prepare(e[Y]._datasets,o)},afterDatasetsDraw:function(e){ue.draw(e,e[Y]._labels)},beforeEvent:function(e,o){if(e[Y]._listened)switch(o.type){case"mousemove":case"mouseout":wt(e,o);break;case"click":St(e,o);break}},afterEvent:function(e){var o=e[Y],r=o._actives,a=o._actives=e.lastActive||[],n=p.arrayDiff(r,a),s,i,b,C,w,T,q;for(s=0,i=n.length;s<i;++s)if(w=n[s],w[1])for(q=w[0][Y]||[],b=0,C=q.length;b<C;++b)T=q[b],T.$context.active=w[1]===1,T.update(T.$context);(o._dirty||n.length)&&(ue.update(o._labels),Bt(e)),delete o._dirty}};return u.plugins.register(Fe),Fe})}($e)),$e.exports}var Fr=Ur();const Pe=Pt(Fr);Me.plugins.unregister(Pe);const Wr=V({props:{id:{type:String,required:!0},title:{type:String},data:{type:Array,required:!0},labels:{type:Array,required:!0}},emits:["pieClick"],setup(t,{emit:d}){const u=F(null),f=ot("(min-width: 768px)");ne(()=>t.data,()=>{v()}),Ve(()=>{v()});async function v(){await Be(),u.value&&u.value.clear();const p=document.getElementById(t.id).getContext("2d");u.value=new Me(p,{plugins:[Pe],type:"pie",data:{datasets:[{data:t.data,backgroundColor:oe}],labels:t.labels},options:{responsive:!0,aspectRatio:f.value?1.5:t.labels.length>10?.7:1,title:{display:!!t.title,text:t.title},tooltips:{callbacks:{label(l,c){const m=l.index,g=t.data[m],_=t.data.reduce(($,B)=>$+=+B,0),x=g/_*100;return`${c.labels?.[m]}: ${g} (${x.toFixed(0)}%)`}}},plugins:{datalabels:{color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter(l){const c=t.data.reduce((g,_)=>g+=+_,0);return l/c*100<10?"":l}}},onClick(l,c){const m=c?.[0]?._index,g=c?.[0]?._view?.label;Number.isNaN(m)||d("pieClick",{index:m,label:g})}}})}return{}}}),Gr=["id"];function Kr(t,d,u,f,v,p){return S(),j("canvas",{id:t.id,key:t.id},null,8,Gr)}const Xr=W(Wr,[["render",Kr]]),Zr=V({components:{PieChart:Xr,MovieRecordsPopup:se},props:{id:{type:String,default:"js-area-pie"},records:{type:Array,required:!0}},setup(t){const d=O(()=>J(t.records,p=>p.area)),u=G({data:O(()=>Object.keys(d.value).map(p=>d.value[p].length)),labels:O(()=>Object.keys(d.value))}),f=G({label:"",records:[]});function v({label:p}){f.label=p,f.records=d.value[p]}return{dataset:u,areaDetails:f,onClick:v}}}),Jr={class:"text-center py-2"};function Qr(t,d,u,f,v,p){const l=M("PieChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[y(l,{id:t.id,data:t.dataset.data,labels:t.dataset.labels,onPieClick:t.onClick},null,8,["id","data","labels","onPieClick"]),y(c,{records:t.areaDetails.records,"onUpdate:records":d[0]||(d[0]=m=>t.areaDetails.records=m)},{title:k(()=>[P("div",Jr,R(t.areaDetails.label),1)]),_:1},8,["records"])],64)}const ea=W(Zr,[["render",Qr]]);Me.plugins.unregister(Pe);const ta=V({props:{id:{type:String,required:!0},data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:String},type:{type:String,default:"bar"}},emits:["barClick"],setup(t,{emit:d}){const u=F(null),f=ot("(min-width: 768px)");ne(()=>t.data,()=>{v()}),Ve(()=>{v()});async function v(){await Be(),u.value&&u.value.clear();const p=document.getElementById(t.id).getContext("2d");u.value=new Me(p,{plugins:[Pe],type:t.type,data:{datasets:[{data:t.data,backgroundColor:oe}],labels:t.labels},options:{responsive:!0,aspectRatio:f.value?1.5:.8,title:{display:!!t.title,text:t.title},legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}],xAxes:[{ticks:{min:0,stepSize:1}}]},plugins:{datalabels:{textAlign:"end",align:"center",color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter(l){return l>0?l:""}}},onClick(l,c){const m=c?.[0]?._index,g=c?.[0]?._view?.label;Number.isNaN(m)||d("barClick",{index:m,label:g})}}})}return{}}}),ra=["id"];function aa(t,d,u,f,v,p){return S(),j("canvas",{id:t.id,key:t.id},null,8,ra)}const qe=W(ta,[["render",aa]]),oa=V({components:{BarChart:qe,MovieRecordsPopup:se},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup(t){const d=Array.from({length:12}).fill("").map((c,m)=>m),u=F(0),f=F([]),v=O(()=>J(t.records,c=>U(c.date).month())),p=G({data:O(()=>{const c=Object.keys(v.value).map(m=>({month:+m,value:v.value[m].length}));return d.map(m=>c.find(g=>g.month===m)?.value??0)}),labels:d.map(c=>U().month(c).format("MMM"))});function l({index:c}){u.value=c+1,f.value=v.value[c]}return{...Te(p),showMonth:u,showRecords:f,onClick:l}}}),na={class:"text-center py-2"};function sa(t,d,u,f,v,p){const l=M("BarChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[y(l,{id:t.id,data:t.data,labels:t.labels,onBarClick:t.onClick},null,8,["id","data","labels","onBarClick"]),y(c,{records:t.showRecords,"onUpdate:records":d[0]||(d[0]=m=>t.showRecords=m)},{title:k(()=>[P("div",na,R(t.showMonth)+"月 ",1)]),_:1},8,["records"])],64)}const la=W(oa,[["render",sa]]),ia=V({components:{ContributionChart:nr,MovieRecordsPopup:se},props:{id:{type:String,default:"js-contribution"},records:{type:Array,required:!0}},setup(t){const d=O(()=>J(t.records,l=>U(l.date).dayOfYear())),u=G({contributions:O(()=>{const l=U(t.records[0].date).startOf("year"),c=l.isLeapYear()?366:365,m=l.isoWeekday()%7;return Array.from({length:m}).fill("").map(()=>({date:"",value:-1,records:[]})).concat(Array.from({length:c}).fill("").map((g,_)=>{const x=l.add(_,"day"),$=d.value[_+1]?.length??0,B=d.value[_+1]||[];return{date:x.toISOString(),value:$,records:B}}))})}),f=G({date:"",records:[]});function v({date:l,records:c}){f.date=l,f.records=c}function p(l){return U(l).format("YYYY/MM/DD (ddd)")}return{...Te(u),dayDetails:f,formatDate:p,onClick:v}}}),da={class:"text-center py-2"};function ua(t,d,u,f,v,p){const l=M("ContributionChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[(S(),H(l,{id:t.id,key:t.id,contributions:t.contributions,onBlockClick:t.onClick},null,8,["id","contributions","onBlockClick"])),y(c,{records:t.dayDetails.records,"onUpdate:records":d[0]||(d[0]=m=>t.dayDetails.records=m)},{title:k(()=>[P("div",da,R(t.formatDate(t.dayDetails.date)),1)]),_:1},8,["records"])],64)}const ca=W(ia,[["render",ua]]),fa=V({components:{LineChart:or},props:{id:{type:String,default:"js-line"},records:{type:Array,required:!0}},setup(t){const d=O(()=>{const v=J(t.records,p=>U(p.date).year());return Object.keys(v).map(p=>({id:+p,records:v[p]}))}),u=O(()=>[{type:"line",label:"總票數",data:d.value.map(v=>v.records.reduce((p,l)=>p+=l.tickets,0)),borderColor:oe[3],backgroundColor:oe[3],fill:!1},{type:"line",label:"總場數",data:d.value.map(v=>v.records.length),borderColor:oe[2],backgroundColor:oe[2],fill:!1}]),f=O(()=>d.value.map(v=>`${v.id}`));return{datasets:u,labels:f}}});function va(t,d,u,f,v,p){const l=M("LineChart");return S(),H(l,{id:t.id,key:t.id,datasets:t.datasets,labels:t.labels},null,8,["id","datasets","labels"])}const pa=W(fa,[["render",va]]),ya=V({components:{TimeHeatmapChart:sr,MovieRecordsPopup:se},props:{id:{type:String,default:"js-heatmap"},records:{type:Array,required:!0}},setup(t){const d=O(()=>{const l=J(t.records,m=>U(m.date).weekday()),c=[];return Array.from({length:7}).fill("").forEach((m,g)=>{Array.from({length:24}).fill("").forEach((_,x)=>{const $=l[g]?.filter(A=>U(A.date).isSame(U(A.date).hour(x),"hour")),B=$?.length??0;c.push({weekday:+g,hour:x,value:B,records:$})})}),c}),u=G({weekday:0,hour:0,records:[]});function f(l){return U().weekday(l).format("ddd")}function v(l){const c=U().startOf("day");return`${c.hour(l).format("HH:mm")}~${c.hour(l+1).format("HH:mm")}`}function p(l){u.weekday=l.weekday,u.hour=l.hour,u.records=l.records}return{dataset:d,dayDetails:u,formatDate:nt,formatWeekDay:f,formatHour:v,onClick:p}}}),ha={class:"text-center py-2"};function ma(t,d,u,f,v,p){const l=M("TimeHeatmapChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[y(l,{id:t.id,dataset:t.dataset,onBlockClick:t.onClick},null,8,["id","dataset","onBlockClick"]),y(c,{records:t.dayDetails.records,"onUpdate:records":d[0]||(d[0]=m=>t.dayDetails.records=m)},{title:k(()=>[P("div",ha,[P("div",null,R(t.formatWeekDay(t.dayDetails.weekday))+" "+R(t.formatHour(t.dayDetails.hour)),1)])]),_:1},8,["records"])],64)}const ba=W(ya,[["render",ma]]),_a=V({components:{BarChart:qe,MovieRecordsPopup:se},props:{id:{type:String,default:"js-theater-bar"},records:{type:Array,required:!0}},setup(t){const d=O(()=>J(t.records,l=>l.theater)),u=O(()=>Object.keys(d.value).map(l=>({label:l,data:d.value[l].length})).sort((l,c)=>l.data<c.data?1:-1)),f=G({data:O(()=>u.value.map(l=>l.data)),labels:O(()=>u.value.map(l=>l.label))}),v=G({label:"",records:[]});function p({label:l}){v.label=l,v.records=d.value[l]}return{dataset:f,theaterDetails:v,onClick:p}}}),ga={class:"text-center py-2"};function xa(t,d,u,f,v,p){const l=M("BarChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[(S(),H(l,{id:t.id,key:t.id,type:"horizontalBar",data:t.dataset.data,labels:t.dataset.labels,onBarClick:t.onClick},null,8,["id","data","labels","onBarClick"])),y(c,{records:t.theaterDetails.records,"onUpdate:records":d[0]||(d[0]=m=>t.theaterDetails.records=m)},{title:k(()=>[P("div",ga,R(t.theaterDetails.label),1)]),_:1},8,["records"])],64)}const ka=W(_a,[["render",xa]]),Ca=V({props:{records:{type:Array,required:!0}},setup(t){const d=G({totalCount:O(()=>t.records.length),totalCost:O(()=>t.records.reduce((u,f)=>u+=f.cost,0)),totalTicks:O(()=>t.records.reduce((u,f)=>u+=f.tickets,0))});return{...Te(d)}}}),$a={class:"text-xs"};function wa(t,d,u,f,v,p){return S(),j("div",$a," 看了 "+R(t.totalCount)+" 場電影，一共 "+R(t.totalTicks)+" 張電影票，花了 "+R(t.totalCost.toLocaleString())+" 新台幣 ",1)}const Sa=W(Ca,[["render",wa]]),Ba=V({components:{BarChart:qe,MovieRecordsPopup:se},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup(t){const d=O(()=>J(t.records,l=>l.version)),u=O(()=>Object.keys(d.value).map(l=>({label:l,data:d.value[l].length})).sort((l,c)=>l.data<c.data?1:-1)),f=G({data:O(()=>u.value.map(l=>l.data)),labels:O(()=>u.value.map(l=>l.label))}),v=G({label:"",records:[]});function p({label:l}){v.label=l,v.records=d.value[l]}return{...Te(f),versionDetails:v,onClick:p}}}),Ta={class:"text-center py-2"};function Ma(t,d,u,f,v,p){const l=M("BarChart"),c=M("MovieRecordsPopup");return S(),j(N,null,[y(l,{id:t.id,type:"horizontalBar",data:t.data,labels:t.labels,onBarClick:t.onClick},null,8,["id","data","labels","onBarClick"]),y(c,{records:t.versionDetails.records,"onUpdate:records":d[0]||(d[0]=m=>t.versionDetails.records=m)},{title:k(()=>[P("div",Ta,R(t.versionDetails.label),1)]),_:1},8,["records"])],64)}const Pa=W(Ba,[["render",Ma]]),Oa=V({components:{VanTabs:At,VanTab:Rt,VanSkeleton:Dt,VanCellGroup:Ot,VanCollapse:Sr,VanCollapseItem:Or,VanTag:pt,MovieRecordCell:mt,FrequencyBarChart:la,MovieTimeHeatmapChart:ba,TotalAnalytics:Sa,AreaPieChart:ea,TheaterBarChart:ka,VersionBarChart:Pa,MovieContributionChart:ca,MovieLineChart:pa},setup(){const t=Jt(),d=It(),{state:u,isReady:f}=jt(Et("movie"),{success:!1,resultMessage:"",resultCode:"",resultException:"",items:[]}),v=F(t.query.tab?.toString()||"data"),p=F(""),l=F(U().year()),c=O(()=>u.value.items),m=O(()=>{const x=J(c.value,$=>U($.date).year());return Object.keys(x).sort(($,B)=>+$>+B?-1:1).map($=>({id:+$,records:x[$]}))}),g=O(()=>m.value.find(x=>x.id===l.value)),_=O(()=>{const x=J(c.value,$=>$.title);return Object.keys(x).map($=>({title:$,count:x[$].length,records:c.value.filter(B=>$===B.title)})).filter($=>$.count>1).sort(($,B)=>$.count>B.count?-1:1)});return Qt(()=>{d.value=`Log | Movie | ${v.value}`}),{isReady:f,activeTab:v,activeCollapse:p,records:c,arrayByYear:m,arrayByTitle:_,filterYear:l,filterArrayByYear:g,formatDate:nt}}}),Da={class:"text-center my-2"},Ra={class:"max-w-2xl mx-auto"},Aa={class:"text-center"},Ia={class:"mt-3 mb-1"},ja={class:"max-w-2xl mx-auto px-2"},Ea={class:"text-center text-xs my-2"},za={class:"max-w-2xl mx-auto px-2"},Va={class:"max-w-2xl mx-auto px-2"},La={class:"max-w-2xl mx-auto px-2"},qa={class:"max-w-2xl mx-auto px-2"},Na={class:"max-w-2xl mx-auto"},Ha={class:"flex items-center"},Ya={class:"text-xs"},Ua={class:"-mx-3 -my-4"};function Fa(t,d,u,f,v,p){const l=M("TotalAnalytics"),c=M("MovieContributionChart"),m=M("MovieRecordCell"),g=M("VanCellGroup"),_=M("VanTab"),x=M("VanTabs"),$=M("MovieLineChart"),B=M("FrequencyBarChart"),A=M("MovieTimeHeatmapChart"),D=M("TheaterBarChart"),I=M("VersionBarChart"),L=M("AreaPieChart"),E=M("VanTag"),Q=M("VanCollapseItem"),le=M("VanCollapse"),re=M("VanSkeleton");return S(),j("div",{class:er(t.isReady?"pb-16":"py-4")},[y(re,{title:"",row:10,loading:!t.isReady,round:""},{default:k(()=>[y(x,{active:t.activeTab,"onUpdate:active":d[1]||(d[1]=h=>t.activeTab=h),sticky:"",border:""},{default:k(()=>[y(_,{title:"資料",name:"data",to:{query:{tab:"data"},replace:!0}},{default:k(()=>[P("div",Da,[y(l,{records:t.records},null,8,["records"])]),y(x,{"offset-top":44,"line-height":1,scrollspy:"",sticky:"",border:""},{default:k(()=>[(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[P("div",Ra,[y(g,{border:""},{title:k(()=>[P("div",Aa,R(h.id),1),P("div",Ia,[y(c,{id:`js-contribution-${h.id}`,records:h.records},null,8,["id","records"])]),y(l,{records:h.records},null,8,["records"])]),default:k(()=>[(S(!0),j(N,null,X(h.records,z=>(S(),H(m,{key:`${z.date}_${z.title}`,record:z},null,8,["record"]))),128))]),_:2},1024)])]),_:2},1032,["title"]))),128))]),_:1})]),_:1}),y(_,{title:"場數",name:"frequency",to:{query:{tab:"frequency"},replace:!0}},{default:k(()=>[P("div",ja,[y(x,{"line-height":1,border:""},{default:k(()=>[y(_,{title:"全部"},{default:k(()=>[y($,{id:"total",records:t.records},null,8,["records"]),d[2]||(d[2]=P("div",{class:"text-center text-xs my-2"}," 累積下來每個月各看了幾場電影 ",-1)),y(B,{id:"js-frequency-all",records:t.records},null,8,["records"])]),_:1,__:[2]}),(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[P("div",Ea,R(h.id)+" 每個月各看了幾場電影 ",1),y(B,{id:`js-frequency-${h.id}`,records:h.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),y(_,{title:"時間",name:"time",to:{query:{tab:"time"},replace:!0}},{default:k(()=>[P("div",za,[y(x,{"line-height":1,border:""},{default:k(()=>[y(_,{title:"全部"},{default:k(()=>[y(A,{id:"js-heatmap-all",records:t.records},null,8,["records"])]),_:1}),(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[y(A,{id:`js-heatmap-${h.id}`,records:h.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),y(_,{title:"影廳",name:"theater",to:{query:{tab:"theater"},replace:!0}},{default:k(()=>[P("div",Va,[y(x,{"line-height":1,border:""},{default:k(()=>[y(_,{title:"全部"},{default:k(()=>[y(D,{id:"js-theater-bar-all",records:t.records},null,8,["records"])]),_:1}),(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[y(D,{id:`js-theater-bar-${h.id}`,records:h.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),y(_,{title:"版本",name:"version",to:{query:{tab:"version"},replace:!0}},{default:k(()=>[P("div",La,[y(x,{"line-height":1,border:""},{default:k(()=>[y(_,{title:"全部"},{default:k(()=>[y(I,{id:"js-version-bar-all",records:t.records},null,8,["records"])]),_:1}),(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[y(I,{id:`js-version-bar-${h.id}`,records:h.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),y(_,{title:"國別",name:"area",to:{query:{tab:"area"},replace:!0}},{default:k(()=>[P("div",qa,[y(x,{"line-height":1,border:""},{default:k(()=>[y(_,{title:"全部"},{default:k(()=>[y(L,{id:"js-area-pie-all",records:t.records},null,8,["records"])]),_:1}),(S(!0),j(N,null,X(t.arrayByYear,h=>(S(),H(_,{key:h.id,title:`${h.id}`},{default:k(()=>[y(L,{id:`js-area-pie-${h.id}`,records:h.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),y(_,{title:"多刷",name:"secondtime",to:{query:{tab:"secondtime"},replace:!0}},{default:k(()=>[P("div",Na,[y(le,{modelValue:t.activeCollapse,"onUpdate:modelValue":d[0]||(d[0]=h=>t.activeCollapse=h),accordion:""},{default:k(()=>[(S(!0),j(N,null,X(t.arrayByTitle,h=>(S(),H(Q,{key:h.title,name:h.title},{title:k(()=>[P("div",Ha,[y(E,{class:"mr-2",type:"primary",plain:"",size:"medium"},{default:k(()=>[Ce(" x "+R(h.count),1)]),_:2},1024),P("span",Ya,R(h.title),1)])]),default:k(()=>[P("div",Ua,[(S(!0),j(N,null,X(h.records,z=>(S(),H(m,{key:`${z.date}_${z.title}`,record:z,"hide-title":"",size:"normal"},null,8,["record"]))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["active"])]),_:1},8,["loading"])],2)}const Ja=W(Oa,[["render",Fa]]);export{Ja as default};
