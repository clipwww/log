import{u as Bt,a as Pe,c as Je,C as Ze,_ as Q,d as U,b as St,e as Qe,f as et,T as Mt,g as Tt,S as Pt,h as Ot,i as Dt,r as At}from"./index-b1cbce77.js";import{L as Et,c as oe,C as Rt,a as xe}from"./LineChart-17118942.js";import{n as fe,t as Z,u as tt,o as It,a as rt,b as zt,w as ne,g as jt,p as at,r as W,c as ve,d as F,e as ot,f as h,T as Oe,h as De,i as Ft,j as nt,k as Ae,v as Ee,l as pe,m as me,q as P,s as ke,x as Re,y as Lt,z as Nt,A as Vt,F as V,B as qt,C as st,H as lt,I as it,D as Ht,E as Yt,G as Ut,J as Wt,K as Gt,L as We,_ as G,M as q,N as M,O as w,P as k,Q as I,R as E,S as Kt,U as O,V as ge,W as Xt,X as J,Y as K,Z as Ce,$ as Jt}from"./index-4f9e6128.js";import{P as Zt,c as Qt}from"./on-popup-reopen-52e2bc98.js";import{T as er,C as tr}from"./ContributionChart-1dd5cd14.js";const rr={show:Boolean,zIndex:fe,overlay:Z,duration:fe,teleport:[String,Object],lockScroll:Z,lazyRender:Z,beforeClose:Function,overlayStyle:Object,overlayClass:tt,transitionAppear:Boolean,closeOnClickOverlay:Z};let ce=0;const Ge="van-overflow-hidden";function ar(r,d){const u=Bt(),y="01",p="10",v=f=>{u.move(f);const x=u.deltaY.value>0?p:y,B=jt(f.target,r.value),{scrollHeight:D,offsetHeight:A,scrollTop:T}=B;let j="11";T===0?j=A>=D?"00":"01":T+A>=D&&(j="10"),j!=="11"&&u.isVertical()&&!(parseInt(j,2)&parseInt(x,2))&&at(f,!0)},l=()=>{document.addEventListener("touchstart",u.start),document.addEventListener("touchmove",v,{passive:!1}),ce||document.body.classList.add(Ge),ce++},c=()=>{ce&&(document.removeEventListener("touchstart",u.start),document.removeEventListener("touchmove",v),ce--,ce||document.body.classList.remove(Ge))},_=()=>d()&&l(),m=()=>d()&&c();It(_),rt(m),zt(m),ne(d,f=>{f?l():c()})}function Ie(r){const d=W(!1);return ne(r,u=>{u&&(d.value=u)},{immediate:!0}),u=>()=>d.value?u():null}const[or,nr]=ve("overlay"),sr={show:Boolean,zIndex:fe,duration:fe,className:tt,lockScroll:Z,lazyRender:Z,customStyle:Object};var lr=F({name:or,props:sr,setup(r,{slots:d}){const u=W(),y=Ie(()=>r.show||!r.lazyRender),p=l=>{r.lockScroll&&at(l,!0)},v=y(()=>{var l;const c=De(Ft(r.zIndex),r.customStyle);return nt(r.duration)&&(c.animationDuration=`${r.duration}s`),Ae(h("div",{ref:u,style:c,class:[nr(),r.className]},[(l=d.default)==null?void 0:l.call(d)]),[[Ee,r.show]])});return ot("touchmove",p,{target:u}),()=>h(Oe,{name:"van-fade",appear:!0},{default:v})}});const ir=pe(lr),dr=De({},rr,{round:Boolean,position:me("center"),closeIcon:me("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:me("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ur,Ke]=ve("popup");var cr=F({name:ur,inheritAttrs:!1,props:dr,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(r,{emit:d,attrs:u,slots:y}){let p,v;const l=W(),c=W(),_=Ie(()=>r.show||!r.lazyRender),m=P(()=>{const R={zIndex:l.value};if(nt(r.duration)){const g=r.position==="center"?"animationDuration":"transitionDuration";R[g]=`${r.duration}s`}return R}),f=()=>{p||(p=!0,l.value=r.zIndex!==void 0?+r.zIndex:qt(),d("open"))},x=()=>{p&&Qt(r.beforeClose,{done(){p=!1,d("close"),d("update:show",!1)}})},B=R=>{d("clickOverlay",R),r.closeOnClickOverlay&&x()},D=()=>{if(r.overlay)return h(ir,{show:r.show,class:r.overlayClass,zIndex:l.value,duration:r.duration,customStyle:r.overlayStyle,role:r.closeOnClickOverlay?"button":void 0,tabindex:r.closeOnClickOverlay?0:void 0,onClick:B},{default:y["overlay-content"]})},A=R=>{d("clickCloseIcon",R),x()},T=()=>{if(r.closeable)return h(it,{role:"button",tabindex:0,name:r.closeIcon,class:[Ke("close-icon",r.closeIconPosition),lt],classPrefix:r.iconPrefix,onClick:A},null)},j=()=>d("opened"),L=()=>d("closed"),z=R=>d("keydown",R),ee=_(()=>{var R;const{round:g,position:H,safeAreaInsetTop:le,safeAreaInsetBottom:we}=r;return Ae(h("div",st({ref:c,style:m.value,role:"dialog",tabindex:0,class:[Ke({round:g,[H]:H}),{"van-safe-area-top":le,"van-safe-area-bottom":we}],onKeydown:z},u),[(R=y.default)==null?void 0:R.call(y),T()]),[[Ee,r.show]])}),ae=()=>{const{position:R,transition:g,transitionAppear:H}=r,le=R==="center"?"van-fade":`van-popup-slide-${R}`;return h(Oe,{name:g||le,appear:H,onAfterEnter:j,onAfterLeave:L},{default:ee})};return ne(()=>r.show,R=>{R&&!p&&(f(),u.tabindex===0&&ke(()=>{var g;(g=c.value)==null||g.focus()})),!R&&p&&(p=!1,d("close"))}),Pe({popupRef:c}),ar(c,()=>r.show&&r.lockScroll),ot("popstate",()=>{r.closeOnPopstate&&(x(),v=!1)}),Re(()=>{r.show&&f()}),Lt(()=>{v&&(d("update:show",!0),v=!1)}),rt(()=>{r.show&&r.teleport&&(x(),v=!0)}),Nt(Zt,()=>r.show),()=>r.teleport?h(Vt,{to:r.teleport},{default:()=>[D(),ae()]}):h(V,null,[D(),ae()])}});const fr=pe(cr),[vr,Xe]=ve("tag"),pr={size:String,mark:Boolean,show:Z,type:me("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var yr=F({name:vr,props:pr,emits:["close"],setup(r,{slots:d,emit:u}){const y=l=>{l.stopPropagation(),u("close",l)},p=()=>r.plain?{color:r.textColor||r.color,borderColor:r.color}:{color:r.textColor,background:r.color},v=()=>{var l;const{type:c,mark:_,plain:m,round:f,size:x,closeable:B}=r,D={mark:_,plain:m,round:f};x&&(D[x]=x);const A=B&&h(it,{name:"cross",class:[Xe("close"),lt],onClick:y},null);return h("span",{style:p(),class:Xe([D,c])},[(l=d.default)==null?void 0:l.call(d),A])};return()=>h(Oe,{name:r.closeable?"van-fade":void 0},{default:()=>[r.show?v():null]})}});const dt=pe(yr),[ut,hr]=ve("collapse"),ct=Symbol(ut),_r={border:Z,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var br=F({name:ut,props:_r,emits:["change","update:modelValue"],setup(r,{emit:d,slots:u}){const{linkChildren:y,children:p}=Ht(ct),v=m=>{d("change",m),d("update:modelValue",m)},l=(m,f)=>{const{accordion:x,modelValue:B}=r;v(x?m===B?"":m:f?B.concat(m):B.filter(D=>D!==m))},c=(m={})=>{if(r.accordion)return;typeof m=="boolean"&&(m={expanded:m});const{expanded:f,skipDisabled:x}=m,D=p.filter(A=>A.disabled&&x?A.expanded.value:f??!A.expanded.value).map(A=>A.itemName.value);v(D)},_=m=>{const{accordion:f,modelValue:x}=r;return f?x===m:x.includes(m)};return Pe({toggleAll:c}),y({toggle:l,isExpanded:_}),()=>{var m;return h("div",{class:[hr(),{[Yt]:r.border}]},[(m=u.default)==null?void 0:m.call(u)])}}});const mr=pe(br),[gr,be]=ve("collapse-item"),xr=["icon","title","value","label","right-icon"],kr=De({},Je,{name:fe,isLink:Z,disabled:Boolean,readonly:Boolean,lazyRender:Z});var Cr=F({name:gr,props:kr,setup(r,{slots:d}){const u=W(),y=W(),{parent:p,index:v}=Ut(ct);if(!p)return;const l=P(()=>{var T;return(T=r.name)!=null?T:v.value}),c=P(()=>p.isExpanded(l.value)),_=W(c.value),m=Ie(()=>_.value||!r.lazyRender),f=()=>{c.value?u.value&&(u.value.style.height=""):_.value=!1};ne(c,(T,j)=>{if(j===null)return;T&&(_.value=!0),(T?ke:Gt)(()=>{if(!y.value||!u.value)return;const{offsetHeight:z}=y.value;if(z){const ee=`${z}px`;u.value.style.height=T?"0":ee,Wt(()=>{u.value&&(u.value.style.height=T?ee:"0")})}else f()})});const x=(T=!c.value)=>{p.toggle(l.value,T)},B=()=>{!r.disabled&&!r.readonly&&x()},D=()=>{const{border:T,disabled:j,readonly:L}=r,z=We(r,Object.keys(Je));return L&&(z.isLink=!1),(j||L)&&(z.clickable=!1),h(Ze,st({role:"button",class:be("title",{disabled:j,expanded:c.value,borderless:!T}),"aria-expanded":String(c.value),onClick:B},z),We(d,xr))},A=m(()=>{var T;return Ae(h("div",{ref:u,class:be("wrapper"),onTransitionend:f},[h("div",{ref:y,class:be("content")},[(T=d.default)==null?void 0:T.call(d)])]),[[Ee,_.value]])});return Pe({toggle:x,expanded:c,itemName:l}),()=>h("div",{class:[be({border:v.value&&r.border})]},[D(),A()])}});const $r=pe(Cr),wr=F({components:{LineChart:Et},props:{id:{type:String,default:"js-line"},records:{type:Array,required:!0}},setup(r){const d=P(()=>{const p=Q(r.records,v=>U(v.date).year());return Object.keys(p).map(v=>({id:+v,records:p[v]}))}),u=P(()=>[{type:"line",label:"總票數",data:d.value.map(p=>p.records.reduce((v,l)=>v+=l.tickets,0)),borderColor:oe[3],backgroundColor:oe[3],fill:!1},{type:"line",label:"總場數",data:d.value.map(p=>p.records.length),borderColor:oe[2],backgroundColor:oe[2],fill:!1}]),y=P(()=>d.value.map(p=>`${p.id}`));return{datasets:u,labels:y}}});function Br(r,d,u,y,p,v){const l=M("LineChart");return w(),q(l,{id:r.id,key:r.id,datasets:r.datasets,labels:r.labels},null,8,["id","datasets","labels"])}const Sr=G(wr,[["render",Br]]),Mr=F({components:{VanCell:Ze,VanTag:dt},props:{record:{type:Object,required:!0},format:{type:String,default:"YYYY/MM/DD HH:mm"},size:{type:String,default:"large"},hideTitle:{type:Boolean,default:!1}},setup(r){function d(u){return U(u).format(r.format)}return{formatDateTime:d}}}),Tr={key:0,class:"font-normal"},Pr={class:"mb-2"},Or={class:"text-sm"},Dr={class:"text-xs mt-2"},Ar={class:"text-right text-gray-500 ml-1"},Er={class:"text-xs"};function Rr(r,d,u,y,p,v){const l=M("van-tag"),c=M("van-cell");return w(),q(c,{center:"",border:"",size:r.size},{title:k(()=>[r.hideTitle?Kt("",!0):(w(),I("div",Tr,E(r.record.title),1))]),label:k(()=>[O("div",Pr,[h(l,{class:"mr-2",plain:"",type:"default"},{default:k(()=>[ge(E(r.record.area),1)]),_:1}),h(l,{class:"mr-2",plain:"",type:"primary"},{default:k(()=>[ge(E(r.record.version),1)]),_:1}),h(l,{plain:"",type:"success"},{default:k(()=>[ge(E(r.record.theater),1)]),_:1})]),O("div",Or,E(r.record.memo),1),O("div",Dr,E(r.formatDateTime(r.record.date)),1)]),extra:k(()=>[O("div",Ar,[O("div",null,"x "+E(r.record.tickets),1),O("div",Er,"$ "+E(r.record.cost),1)])]),_:1},8,["size"])}const ft=G(Mr,[["render",Rr]]);var Te={},Ir={get exports(){return Te},set exports(r){Te=r}};/*!
 * chartjs-plugin-datalabels v0.7.0
 * https://chartjs-plugin-datalabels.netlify.com
 * (c) 2019 Chart.js Contributors
 * Released under the MIT license
 */(function(r,d){(function(u,y){r.exports=y(Rt)})(St,function(u){u=u&&u.hasOwnProperty("default")?u.default:u;var y=u.helpers,p=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),v={toTextLines:function(e){var o=[],t;for(e=[].concat(e);e.length;)t=e.pop(),typeof t=="string"?o.unshift.apply(o,t.split(`
`)):Array.isArray(t)?e.push.apply(e,t):y.isNullOrUndef(e)||o.unshift(""+t);return o},toFontString:function(e){return!e||y.isNullOrUndef(e.size)||y.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,o,t){var a=[].concat(o),n=a.length,s=e.font,i=0,b;for(e.font=t.string,b=0;b<n;++b)i=Math.max(e.measureText(a[b]).width,i);return e.font=s,{height:n*t.lineHeight,width:i}},parseFont:function(e){var o=u.defaults.global,t=y.valueOrDefault(e.size,o.defaultFontSize),a={family:y.valueOrDefault(e.family,o.defaultFontFamily),lineHeight:y.options.toLineHeight(e.lineHeight,t),size:t,style:y.valueOrDefault(e.style,o.defaultFontStyle),weight:y.valueOrDefault(e.weight,null),string:""};return a.string=v.toFontString(a),a},bound:function(e,o,t){return Math.max(e,Math.min(o,t))},arrayDiff:function(e,o){var t=e.slice(),a=[],n,s,i,b;for(n=0,i=o.length;n<i;++n)b=o[n],s=t.indexOf(b),s===-1?a.push([b,1]):t.splice(s,1);for(n=0,i=t.length;n<i;++n)a.push([t[n],-1]);return a},rasterize:function(e){return Math.round(e*p)/p}};function l(e,o){var t=o.x,a=o.y;if(t===null)return{x:0,y:-1};if(a===null)return{x:1,y:0};var n=e.x-t,s=e.y-a,i=Math.sqrt(n*n+s*s);return{x:i?n/i:0,y:i?s/i:-1}}function c(e,o,t,a,n){switch(n){case"center":t=a=0;break;case"bottom":t=0,a=1;break;case"right":t=1,a=0;break;case"left":t=-1,a=0;break;case"top":t=0,a=-1;break;case"start":t=-t,a=-a;break;case"end":break;default:n*=Math.PI/180,t=Math.cos(n),a=Math.sin(n);break}return{x:e,y:o,vx:t,vy:a}}var _=0,m=1,f=2,x=4,B=8;function D(e,o,t){var a=_;return e<t.left?a|=m:e>t.right&&(a|=f),o<t.top?a|=B:o>t.bottom&&(a|=x),a}function A(e,o){for(var t=e.x0,a=e.y0,n=e.x1,s=e.y1,i=D(t,a,o),b=D(n,s,o),C,$,S;!(!(i|b)||i&b);)C=i||b,C&B?($=t+(n-t)*(o.top-a)/(s-a),S=o.top):C&x?($=t+(n-t)*(o.bottom-a)/(s-a),S=o.bottom):C&f?(S=a+(s-a)*(o.right-t)/(n-t),$=o.right):C&m&&(S=a+(s-a)*(o.left-t)/(n-t),$=o.left),C===i?(t=$,a=S,i=D(t,a,o)):(n=$,s=S,b=D(n,s,o));return{x0:t,x1:n,y0:a,y1:s}}function T(e,o){var t=o.anchor,a=e,n,s;return o.clamp&&(a=A(a,o.area)),t==="start"?(n=a.x0,s=a.y0):t==="end"?(n=a.x1,s=a.y1):(n=(a.x0+a.x1)/2,s=(a.y0+a.y1)/2),c(n,s,e.vx,e.vy,o.align)}var j={arc:function(e,o){var t=(e.startAngle+e.endAngle)/2,a=Math.cos(t),n=Math.sin(t),s=e.innerRadius,i=e.outerRadius;return T({x0:e.x+a*s,y0:e.y+n*s,x1:e.x+a*i,y1:e.y+n*i,vx:a,vy:n},o)},point:function(e,o){var t=l(e,o.origin),a=t.x*e.radius,n=t.y*e.radius;return T({x0:e.x-a,y0:e.y-n,x1:e.x+a,y1:e.y+n,vx:t.x,vy:t.y},o)},rect:function(e,o){var t=l(e,o.origin),a=e.x,n=e.y,s=0,i=0;return e.horizontal?(a=Math.min(e.x,e.base),s=Math.abs(e.base-e.x)):(n=Math.min(e.y,e.base),i=Math.abs(e.base-e.y)),T({x0:a,y0:n+i,x1:a+s,y1:n,vx:t.x,vy:t.y},o)},fallback:function(e,o){var t=l(e,o.origin);return T({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:t.x,vy:t.y},o)}},L=u.helpers,z=v.rasterize;function ee(e){var o=e.borderWidth||0,t=e.padding,a=e.size.height,n=e.size.width,s=-n/2,i=-a/2;return{frame:{x:s-t.left-o,y:i-t.top-o,w:n+t.width+o*2,h:a+t.height+o*2},text:{x:s,y:i,w:n,h:a}}}function ae(e){var o=e._model.horizontal,t=e._scale||o&&e._xScale||e._yScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var a=t.getBasePixel();return o?{x:a,y:null}:{x:null,y:a}}function R(e){return e instanceof u.elements.Arc?j.arc:e instanceof u.elements.Point?j.point:e instanceof u.elements.Rectangle?j.rect:j.fallback}function g(e,o,t){var a=t.backgroundColor,n=t.borderColor,s=t.borderWidth;!a&&(!n||!s)||(e.beginPath(),L.canvas.roundedRect(e,z(o.x)+s/2,z(o.y)+s/2,z(o.w)-s,z(o.h)-s,t.borderRadius),e.closePath(),a&&(e.fillStyle=a,e.fill()),n&&s&&(e.strokeStyle=n,e.lineWidth=s,e.lineJoin="miter",e.stroke()))}function H(e,o,t){var a=t.lineHeight,n=e.w,s=e.x,i=e.y+a/2;return o==="center"?s+=n/2:(o==="end"||o==="right")&&(s+=n),{h:a,w:n,x:s,y:i}}function le(e,o,t){var a=e.shadowBlur,n=t.stroked,s=z(t.x),i=z(t.y),b=z(t.w);n&&e.strokeText(o,s,i,b),t.filled&&(a&&n&&(e.shadowBlur=0),e.fillText(o,s,i,b),a&&n&&(e.shadowBlur=a))}function we(e,o,t,a){var n=a.textAlign,s=a.color,i=!!s,b=a.font,C=o.length,$=a.textStrokeColor,S=a.textStrokeWidth,N=$&&S,X;if(!(!C||!i&&!N))for(t=H(t,n,b),e.font=b.string,e.textAlign=n,e.textBaseline="middle",e.shadowBlur=a.textShadowBlur,e.shadowColor=a.textShadowColor,i&&(e.fillStyle=s),N&&(e.lineJoin="round",e.lineWidth=S,e.strokeStyle=$),X=0,C=o.length;X<C;++X)le(e,o[X],{stroked:N,filled:i,w:t.w,x:t.x,y:t.y+t.h*X})}var je=function(e,o,t,a){var n=this;n._config=e,n._index=a,n._model=null,n._rects=null,n._ctx=o,n._el=t};L.extend(je.prototype,{_modelize:function(e,o,t,a){var n=this,s=n._index,i=L.options.resolve,b=v.parseFont(i([t.font,{}],a,s)),C=i([t.color,u.defaults.global.defaultFontColor],a,s);return{align:i([t.align,"center"],a,s),anchor:i([t.anchor,"center"],a,s),area:a.chart.chartArea,backgroundColor:i([t.backgroundColor,null],a,s),borderColor:i([t.borderColor,null],a,s),borderRadius:i([t.borderRadius,0],a,s),borderWidth:i([t.borderWidth,0],a,s),clamp:i([t.clamp,!1],a,s),clip:i([t.clip,!1],a,s),color:C,display:e,font:b,lines:o,offset:i([t.offset,0],a,s),opacity:i([t.opacity,1],a,s),origin:ae(n._el),padding:L.options.toPadding(i([t.padding,0],a,s)),positioner:R(n._el),rotation:i([t.rotation,0],a,s)*(Math.PI/180),size:v.textSize(n._ctx,o,b),textAlign:i([t.textAlign,"start"],a,s),textShadowBlur:i([t.textShadowBlur,0],a,s),textShadowColor:i([t.textShadowColor,C],a,s),textStrokeColor:i([t.textStrokeColor,C],a,s),textStrokeWidth:i([t.textStrokeWidth,0],a,s)}},update:function(e){var o=this,t=null,a=null,n=o._index,s=o._config,i,b,C,$=L.options.resolve([s.display,!0],e,n);$&&(i=e.dataset.data[n],b=L.valueOrDefault(L.callback(s.formatter,[i,e]),i),C=L.isNullOrUndef(b)?[]:v.toTextLines(b),C.length&&(t=o._modelize($,C,s,e),a=ee(t))),o._model=t,o._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,o){var t=this,a=e.ctx,n=t._model,s=t._rects,i;this.visible()&&(a.save(),n.clip&&(i=n.area,a.beginPath(),a.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),a.clip()),a.globalAlpha=v.bound(0,n.opacity,1),a.translate(z(o.x),z(o.y)),a.rotate(n.rotation),g(a,s.frame,n),we(a,n.lines,s.text,n),a.restore())}});var vt=u.helpers,pt=Number.MIN_SAFE_INTEGER||-9007199254740991,yt=Number.MAX_SAFE_INTEGER||9007199254740991;function ie(e,o,t){var a=Math.cos(t),n=Math.sin(t),s=o.x,i=o.y;return{x:s+a*(e.x-s)-n*(e.y-i),y:i+n*(e.x-s)+a*(e.y-i)}}function Fe(e,o){var t=yt,a=pt,n=o.origin,s,i,b,C,$;for(s=0;s<e.length;++s)i=e[s],b=i.x-n.x,C=i.y-n.y,$=o.vx*b+o.vy*C,t=Math.min(t,$),a=Math.max(a,$);return{min:t,max:a}}function ye(e,o){var t=o.x-e.x,a=o.y-e.y,n=Math.sqrt(t*t+a*a);return{vx:(o.x-e.x)/n,vy:(o.y-e.y)/n,origin:e,ln:n}}var Le=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};vt.extend(Le.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,o,t){this._rotation=t,this._rect={x:o.x+e.x,y:o.y+e.y,w:o.w,h:o.h}},contains:function(e){var o=this,t=1,a=o._rect;return e=ie(e,o.center(),-o._rotation),!(e.x<a.x-t||e.y<a.y-t||e.x>a.x+a.w+t*2||e.y>a.y+a.h+t*2)},intersects:function(e){var o=this._points(),t=e._points(),a=[ye(o[0],o[1]),ye(o[0],o[3])],n,s,i;for(this._rotation!==e._rotation&&a.push(ye(t[0],t[1]),ye(t[0],t[3])),n=0;n<a.length;++n)if(s=Fe(o,a[n]),i=Fe(t,a[n]),s.max<i.min||i.max<s.min)return!1;return!0},_points:function(){var e=this,o=e._rect,t=e._rotation,a=e.center();return[ie({x:o.x,y:o.y},a,t),ie({x:o.x+o.w,y:o.y},a,t),ie({x:o.x+o.w,y:o.y+o.h},a,t),ie({x:o.x,y:o.y+o.h},a,t)]}});function Ne(e,o,t){var a=o.positioner(e,o),n=a.vx,s=a.vy;if(!n&&!s)return{x:a.x,y:a.y};var i=t.w,b=t.h,C=o.rotation,$=Math.abs(i/2*Math.cos(C))+Math.abs(b/2*Math.sin(C)),S=Math.abs(i/2*Math.sin(C))+Math.abs(b/2*Math.cos(C)),N=1/Math.max(Math.abs(n),Math.abs(s));return $*=n*N,S*=s*N,$+=o.offset*n,S+=o.offset*s,{x:a.x+$,y:a.y+S}}function ht(e,o){var t,a,n,s;for(t=e.length-1;t>=0;--t)for(n=e[t].$layout,a=t-1;a>=0&&n._visible;--a)s=e[a].$layout,s._visible&&n._box.intersects(s._box)&&o(n,s);return e}function _t(e){var o,t,a,n,s,i;for(o=0,t=e.length;o<t;++o)a=e[o],n=a.$layout,n._visible&&(s=a.geometry(),i=Ne(a._el._model,a.model(),s),n._box.update(i,s,a.rotation()));return ht(e,function(b,C){var $=b._hidable,S=C._hidable;$&&S||S?C._visible=!1:$&&(b._visible=!1)})}var de={prepare:function(e){var o=[],t,a,n,s,i;for(t=0,n=e.length;t<n;++t)for(a=0,s=e[t].length;a<s;++a)i=e[t][a],o.push(i),i.$layout={_box:new Le,_hidable:!1,_visible:!0,_set:t,_idx:a};return o.sort(function(b,C){var $=b.$layout,S=C.$layout;return $._idx===S._idx?S._set-$._set:S._idx-$._idx}),this.update(o),o},update:function(e){var o=!1,t,a,n,s,i;for(t=0,a=e.length;t<a;++t)n=e[t],s=n.model(),i=n.$layout,i._hidable=s&&s.display==="auto",i._visible=n.visible(),o|=i._hidable;o&&_t(e)},lookup:function(e,o){var t,a;for(t=e.length-1;t>=0;--t)if(a=e[t].$layout,a&&a._visible&&a._box.contains(o))return e[t];return null},draw:function(e,o){var t,a,n,s,i,b;for(t=0,a=o.length;t<a;++t)n=o[t],s=n.$layout,s._visible&&(i=n.geometry(),b=Ne(n._el._view,n.model(),i),s._box.update(b,i,n.rotation()),n.draw(e,b))}},he=u.helpers,bt=function(e){if(he.isNullOrUndef(e))return null;var o=e,t,a,n;if(he.isObject(e))if(!he.isNullOrUndef(e.label))o=e.label;else if(!he.isNullOrUndef(e.r))o=e.r;else for(o="",t=Object.keys(e),n=0,a=t.length;n<a;++n)o+=(n!==0?", ":"")+t[n]+": "+e[t[n]];return""+o},mt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:bt,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},ue=u.helpers,Y="$datalabels",Ve="$default";function gt(e,o){var t=e.datalabels,a={},n=[],s,i;return t===!1?null:(t===!0&&(t={}),o=ue.merge({},[o,t]),s=o.labels||{},i=Object.keys(s),delete o.labels,i.length?i.forEach(function(b){s[b]&&n.push(ue.merge({},[o,s[b],{_key:b}]))}):n.push(o),a=n.reduce(function(b,C){return ue.each(C.listeners||{},function($,S){b[S]=b[S]||{},b[S][C._key||Ve]=$}),delete C.listeners,b},{}),{labels:n,listeners:a})}function Be(e,o,t){if(o){var a=t.$context,n=t.$groups,s;o[n._set]&&(s=o[n._set][n._key],s&&ue.callback(s,[a])===!0&&(e[Y]._dirty=!0,t.update(a)))}}function xt(e,o,t,a){var n,s;!t&&!a||(t?a?t!==a&&(s=n=!0):s=!0:n=!0,s&&Be(e,o.leave,t),n&&Be(e,o.enter,a))}function kt(e,o){var t=e[Y],a=t._listeners,n,s;if(!(!a.enter&&!a.leave)){if(o.type==="mousemove")s=de.lookup(t._labels,o);else if(o.type!=="mouseout")return;n=t._hovered,t._hovered=s,xt(e,a,n,s)}}function Ct(e,o){var t=e[Y],a=t._listeners.click,n=a&&de.lookup(t._labels,o);n&&Be(e,a,n)}function $t(e){if(!e.animating){for(var o=u.animationService.animations,t=0,a=o.length;t<a;++t)if(o[t].chart===e)return;e.render({duration:1,lazy:!0})}}u.defaults.global.plugins.datalabels=mt;var qe={id:"datalabels",beforeInit:function(e){e[Y]={_actives:[]}},beforeUpdate:function(e){var o=e[Y];o._listened=!1,o._listeners={},o._datasets=[],o._labels=[]},afterDatasetUpdate:function(e,o,t){var a=o.index,n=e[Y],s=n._datasets[a]=[],i=e.isDatasetVisible(a),b=e.data.datasets[a],C=gt(b,t),$=o.meta.data||[],S=e.ctx,N,X,He,Ye,Se,Ue,te,re;for(S.save(),N=0,He=$.length;N<He;++N)if(te=$[N],te[Y]=[],i&&te&&!te.hidden&&!te._model.skip)for(X=0,Ye=C.labels.length;X<Ye;++X)Se=C.labels[X],Ue=Se._key,re=new je(Se,S,te,N),re.$groups={_set:a,_key:Ue||Ve},re.$context={active:!1,chart:e,dataIndex:N,dataset:b,datasetIndex:a},re.update(re.$context),te[Y].push(re),s.push(re);S.restore(),ue.merge(n._listeners,C.listeners,{merger:function(_e,Me,wt){Me[_e]=Me[_e]||{},Me[_e][o.index]=wt[_e],n._listened=!0}})},afterUpdate:function(e,o){e[Y]._labels=de.prepare(e[Y]._datasets,o)},afterDatasetsDraw:function(e){de.draw(e,e[Y]._labels)},beforeEvent:function(e,o){if(e[Y]._listened)switch(o.type){case"mousemove":case"mouseout":kt(e,o);break;case"click":Ct(e,o);break}},afterEvent:function(e){var o=e[Y],t=o._actives,a=o._actives=e.lastActive||[],n=v.arrayDiff(t,a),s,i,b,C,$,S,N;for(s=0,i=n.length;s<i;++s)if($=n[s],$[1])for(N=$[0][Y]||[],b=0,C=N.length;b<C;++b)S=N[b],S.$context.active=$[1]===1,S.update(S.$context);(o._dirty||n.length)&&(de.update(o._labels),$t(e)),delete o._dirty}};return u.plugins.register(qe),qe})})(Ir);const $e=Te;xe.plugins.unregister($e);const zr=F({props:{id:{type:String,required:!0},data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:String},type:{type:String,default:"bar"}},setup(r,{emit:d}){const u=W(null),y=Qe("(min-width: 768px)");ne(()=>r.data,()=>{p()}),Re(()=>{p()});async function p(){await ke(),u.value&&u.value.clear();const v=document.getElementById(r.id).getContext("2d");u.value=new xe(v,{plugins:[$e],type:r.type,data:{datasets:[{data:r.data,backgroundColor:oe}],labels:r.labels},options:{responsive:!0,aspectRatio:y.value?1.5:.8,title:{display:!!r.title,text:r.title},legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}],xAxes:[{ticks:{min:0,stepSize:1}}]},plugins:{datalabels:{textAlign:"end",align:"center",color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter(l){return l>0?l:""}}},onClick(l,c){var f,x,B;const _=(f=c==null?void 0:c[0])==null?void 0:f._index,m=(B=(x=c==null?void 0:c[0])==null?void 0:x._view)==null?void 0:B.label;isNaN(_)||d("bar-click",{index:_,label:m})}}})}return{}}}),jr=["id"];function Fr(r,d,u,y,p,v){return w(),I("canvas",{id:r.id,key:r.id},null,8,jr)}const ze=G(zr,[["render",Fr]]),Lr=F({components:{VanPopup:fr,MovieRecordCell:ft},props:{records:{type:Array,required:!0}},setup(r,{emit:d}){return{show:P({get(){return r.records.length>0},set(y){y||d("update:records",[])}})}}});const Nr={class:"pb-8 overflow-y-auto h-calc"};function Vr(r,d,u,y,p,v){const l=M("MovieRecordCell"),c=M("van-popup");return w(),q(c,{show:r.show,"onUpdate:show":d[0]||(d[0]=_=>r.show=_),round:"",position:"bottom",style:{height:"90%"},closeable:""},{default:k(()=>[Xt(r.$slots,"title",{},void 0,!0),O("div",Nr,[(w(!0),I(V,null,J(r.records,_=>(w(),q(l,{record:_,key:`${_.date}_${_.title}`},null,8,["record"]))),128))])]),_:3},8,["show"])}const se=G(Lr,[["render",Vr],["__scopeId","data-v-a8e5ebc2"]]),qr=F({components:{BarChart:ze,MovieRecordsPopup:se},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup(r){const d=Array(12).fill("").map((c,_)=>_),u=W(0),y=W([]),p=P(()=>Q(r.records,c=>U(c.date).month())),v=K({data:P(()=>{const c=Object.keys(p.value).map(_=>({month:+_,value:p.value[_].length}));return d.map(_=>{var m;return((m=c.find(f=>f.month===_))==null?void 0:m.value)??0})}),labels:d.map(c=>U().month(c).format("MMM"))});function l({index:c}){u.value=c+1,y.value=p.value[c]}return{...Ce(v),showMonth:u,showRecords:y,onClick:l}}}),Hr={class:"text-center py-2"};function Yr(r,d,u,y,p,v){const l=M("BarChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[h(l,{id:r.id,data:r.data,labels:r.labels,onBarClick:r.onClick},null,8,["id","data","labels","onBarClick"]),h(c,{records:r.showRecords,"onUpdate:records":d[0]||(d[0]=_=>r.showRecords=_)},{title:k(()=>[O("div",Hr,E(r.showMonth)+"月",1)]),_:1},8,["records"])],64)}const Ur=G(qr,[["render",Yr]]),Wr=F({components:{TimeHeatmapChart:er,MovieRecordsPopup:se},props:{id:{type:String,default:"js-heatmap"},records:{type:Array,required:!0}},setup(r){const d=P(()=>{const l=Q(r.records,_=>U(_.date).weekday()),c=[];return Array(7).fill("").forEach((_,m)=>{Array(24).fill("").forEach((f,x)=>{var A;const B=(A=l[m])==null?void 0:A.filter(T=>U(T.date).isSame(U(T.date).hour(x),"hour")),D=(B==null?void 0:B.length)??0;c.push({weekday:+m,hour:x,value:D,records:B})})}),c}),u=K({weekday:0,hour:0,records:[]});function y(l){return U().weekday(l).format("ddd")}function p(l){const c=U().startOf("day");return c.hour(l).format("HH:mm")+"~"+c.hour(l+1).format("HH:mm")}function v(l){u.weekday=l.weekday,u.hour=l.hour,u.records=l.records}return{dataset:d,dayDetails:u,formatDate:et,formatWeekDay:y,formatHour:p,onClick:v}}}),Gr={class:"text-center py-2"};function Kr(r,d,u,y,p,v){const l=M("TimeHeatmapChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[h(l,{id:r.id,dataset:r.dataset,onBlockClick:r.onClick},null,8,["id","dataset","onBlockClick"]),h(c,{records:r.dayDetails.records,"onUpdate:records":d[0]||(d[0]=_=>r.dayDetails.records=_)},{title:k(()=>[O("div",Gr,[O("div",null,E(r.formatWeekDay(r.dayDetails.weekday))+" "+E(r.formatHour(r.dayDetails.hour)),1)])]),_:1},8,["records"])],64)}const Xr=G(Wr,[["render",Kr]]),Jr=F({props:{records:{type:Array,required:!0}},setup(r){const d=K({totalCount:P(()=>r.records.length),totalCost:P(()=>r.records.reduce((u,y)=>u+=y.cost,0)),totalTicks:P(()=>r.records.reduce((u,y)=>u+=y.tickets,0))});return{...Ce(d)}}}),Zr={class:"text-xs"};function Qr(r,d,u,y,p,v){return w(),I("div",Zr," 看了 "+E(r.totalCount)+" 場電影，一共 "+E(r.totalTicks)+" 張電影票，花了 "+E(r.totalCost.toLocaleString())+" 新台幣 ",1)}const ea=G(Jr,[["render",Qr]]);xe.plugins.unregister($e);const ta=F({props:{id:{type:String,required:!0},title:{type:String},data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup(r,{emit:d}){const u=W(null),y=Qe("(min-width: 768px)");ne(()=>r.data,()=>{p()}),Re(()=>{p()});async function p(){await ke(),u.value&&u.value.clear();const v=document.getElementById(r.id).getContext("2d");u.value=new xe(v,{plugins:[$e],type:"pie",data:{datasets:[{data:r.data,backgroundColor:oe}],labels:r.labels},options:{responsive:!0,aspectRatio:y.value?1.5:r.labels.length>10?.7:1,title:{display:!!r.title,text:r.title},tooltips:{callbacks:{label(l,c){var B;const _=l.index,m=r.data[_],f=r.data.reduce((D,A)=>D+=+A,0),x=m/f*100;return`${(B=c.labels)==null?void 0:B[_]}: ${m} (${x.toFixed(0)}%)`}}},plugins:{datalabels:{color:"#000000",textStrokeColor:"#ffffff",textStrokeWidth:3,formatter(l){const c=r.data.reduce((m,f)=>m+=+f,0);return l/c*100<10?"":l}}},onClick(l,c){var f,x,B;const _=(f=c==null?void 0:c[0])==null?void 0:f._index,m=(B=(x=c==null?void 0:c[0])==null?void 0:x._view)==null?void 0:B.label;isNaN(_)||d("pie-click",{index:_,label:m})}}})}return{}}}),ra=["id"];function aa(r,d,u,y,p,v){return w(),I("canvas",{id:r.id,key:r.id},null,8,ra)}const oa=G(ta,[["render",aa]]),na=F({components:{PieChart:oa,MovieRecordsPopup:se},props:{id:{type:String,default:"js-area-pie"},records:{type:Array,required:!0}},setup(r){const d=P(()=>Q(r.records,v=>v.area)),u=K({data:P(()=>Object.keys(d.value).map(v=>d.value[v].length)),labels:P(()=>Object.keys(d.value))}),y=K({label:"",records:[]});function p({label:v}){y.label=v,y.records=d.value[v]}return{dataset:u,areaDetails:y,onClick:p}}}),sa={class:"text-center py-2"};function la(r,d,u,y,p,v){const l=M("PieChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[h(l,{id:r.id,data:r.dataset.data,labels:r.dataset.labels,onPieClick:r.onClick},null,8,["id","data","labels","onPieClick"]),h(c,{records:r.areaDetails.records,"onUpdate:records":d[0]||(d[0]=_=>r.areaDetails.records=_)},{title:k(()=>[O("div",sa,E(r.areaDetails.label),1)]),_:1},8,["records"])],64)}const ia=G(na,[["render",la]]),da=F({components:{BarChart:ze,MovieRecordsPopup:se},props:{id:{type:String,default:"js-theater-bar"},records:{type:Array,required:!0}},setup(r){const d=P(()=>Q(r.records,l=>l.theater)),u=P(()=>Object.keys(d.value).map(l=>({label:l,data:d.value[l].length})).sort((l,c)=>l.data<c.data?1:-1)),y=K({data:P(()=>u.value.map(l=>l.data)),labels:P(()=>u.value.map(l=>l.label))}),p=K({label:"",records:[]});function v({label:l}){p.label=l,p.records=d.value[l]}return{dataset:y,theaterDetails:p,onClick:v}}}),ua={class:"text-center py-2"};function ca(r,d,u,y,p,v){const l=M("BarChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[(w(),q(l,{type:"horizontalBar",id:r.id,key:r.id,data:r.dataset.data,labels:r.dataset.labels,onBarClick:r.onClick},null,8,["id","data","labels","onBarClick"])),h(c,{records:r.theaterDetails.records,"onUpdate:records":d[0]||(d[0]=_=>r.theaterDetails.records=_)},{title:k(()=>[O("div",ua,E(r.theaterDetails.label),1)]),_:1},8,["records"])],64)}const fa=G(da,[["render",ca]]),va=F({components:{BarChart:ze,MovieRecordsPopup:se},props:{id:{type:String,required:!0},records:{type:Array,required:!0}},setup(r){const d=P(()=>Q(r.records,l=>l.version)),u=P(()=>Object.keys(d.value).map(l=>({label:l,data:d.value[l].length})).sort((l,c)=>l.data<c.data?1:-1)),y=K({data:P(()=>u.value.map(l=>l.data)),labels:P(()=>u.value.map(l=>l.label))}),p=K({label:"",records:[]});function v({label:l}){p.label=l,p.records=d.value[l]}return{...Ce(y),versionDetails:p,onClick:v}}}),pa={class:"text-center py-2"};function ya(r,d,u,y,p,v){const l=M("BarChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[h(l,{type:"horizontalBar",id:r.id,data:r.data,labels:r.labels,onBarClick:r.onClick},null,8,["id","data","labels","onBarClick"]),h(c,{records:r.versionDetails.records,"onUpdate:records":d[0]||(d[0]=_=>r.versionDetails.records=_)},{title:k(()=>[O("div",pa,E(r.versionDetails.label),1)]),_:1},8,["records"])],64)}const ha=G(va,[["render",ya]]),_a=F({components:{ContributionChart:tr,MovieRecordsPopup:se},props:{id:{type:String,default:"js-contribution"},records:{type:Array,required:!0}},setup(r){const d=P(()=>Q(r.records,l=>U(l.date).dayOfYear())),u=K({contributions:P(()=>{const l=U(r.records[0].date).startOf("year"),c=l.isLeapYear()?366:365,_=l.isoWeekday()%7;return Array(_).fill("").map(()=>({date:"",value:-1,records:[]})).concat(Array(c).fill("").map((m,f)=>{var A;const x=l.add(f,"day"),B=((A=d.value[f+1])==null?void 0:A.length)??0,D=d.value[f+1]||[];return{date:x.toISOString(),value:B,records:D}}))})}),y=K({date:"",records:[]});function p({date:l,records:c}){y.date=l,y.records=c}function v(l){return U(l).format("YYYY/MM/DD (ddd)")}return{...Ce(u),dayDetails:y,formatDate:v,onClick:p}}}),ba={class:"text-center py-2"};function ma(r,d,u,y,p,v){const l=M("ContributionChart"),c=M("MovieRecordsPopup");return w(),I(V,null,[(w(),q(l,{id:r.id,key:r.id,contributions:r.contributions,onBlockClick:r.onClick},null,8,["id","contributions","onBlockClick"])),h(c,{records:r.dayDetails.records,"onUpdate:records":d[0]||(d[0]=_=>r.dayDetails.records=_)},{title:k(()=>[O("div",ba,E(r.formatDate(r.dayDetails.date)),1)]),_:1},8,["records"])],64)}const ga=G(_a,[["render",ma]]),xa=F({components:{VanTabs:Mt,VanTab:Tt,VanSkeleton:Pt,VanCellGroup:Ot,VanCollapse:mr,VanCollapseItem:$r,VanTag:dt,MovieRecordCell:ft,FrequencyBarChart:Ur,MovieTimeHeatmapChart:Xr,TotalAnalytics:ea,AreaPieChart:ia,TheaterBarChart:fa,VersionBarChart:ha,MovieContributionChart:ga,MovieLineChart:Sr},setup(){const{state:r,isReady:d}=Dt(At("movie"),{success:!1,resultMessage:"",resultCode:"",resultException:"",items:[]}),u=W("data"),y=W(""),p=W(U().year()),v=P(()=>r.value.items),l=P(()=>{const m=Q(v.value,f=>U(f.date).year());return Object.keys(m).sort((f,x)=>+f>+x?-1:1).map(f=>({id:+f,records:m[f]}))}),c=P(()=>l.value.find(m=>m.id===p.value)),_=P(()=>{const m=Q(v.value,f=>f.title);return Object.keys(m).map(f=>({title:f,count:m[f].length,records:v.value.filter(x=>f===x.title)})).filter(f=>f.count>1).sort((f,x)=>f.count>x.count?-1:1)});return{isReady:d,activeTab:u,activeCollapse:y,records:v,arrayByYear:l,arrayByTitle:_,filterYear:p,filterArrayByYear:c,formatDate:et}}}),ka={class:"text-center my-2"},Ca={class:"max-w-2xl mx-auto"},$a={class:"text-center"},wa={class:"mt-3 mb-1"},Ba={class:"max-w-2xl mx-auto px-2"},Sa=O("div",{class:"text-center text-xs my-2"},"累積下來每個月各看了幾場電影",-1),Ma={class:"text-center text-xs my-2"},Ta={class:"max-w-2xl mx-auto px-2"},Pa={class:"max-w-2xl mx-auto px-2"},Oa={class:"max-w-2xl mx-auto px-2"},Da={class:"max-w-2xl mx-auto px-2"},Aa={class:"max-w-2xl mx-auto"},Ea={class:"flex items-center"},Ra={class:"text-xs"},Ia={class:"-mx-3 -my-4"};function za(r,d,u,y,p,v){const l=M("TotalAnalytics"),c=M("MovieContributionChart"),_=M("MovieRecordCell"),m=M("van-cell-group"),f=M("van-tab"),x=M("van-tabs"),B=M("MovieLineChart"),D=M("FrequencyBarChart"),A=M("MovieTimeHeatmapChart"),T=M("TheaterBarChart"),j=M("VersionBarChart"),L=M("AreaPieChart"),z=M("van-tag"),ee=M("van-collapse-item"),ae=M("van-collapse"),R=M("van-skeleton");return w(),I("div",{class:Jt(r.isReady?"pb-16":"py-4")},[h(R,{title:"",row:10,loading:!r.isReady,round:""},{default:k(()=>[h(x,{active:r.activeTab,"onUpdate:active":d[1]||(d[1]=g=>r.activeTab=g),sticky:"",border:""},{default:k(()=>[h(f,{title:"資料",name:"data"},{default:k(()=>[O("div",ka,[h(l,{records:r.records},null,8,["records"])]),h(x,{"offset-top":44,"line-height":1,scrollspy:"",sticky:"",border:""},{default:k(()=>[(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[O("div",Ca,[h(m,{border:""},{title:k(()=>[O("div",$a,E(g.id),1),O("div",wa,[h(c,{id:`js-contribution-${g.id}`,records:g.records},null,8,["id","records"])]),h(l,{records:g.records},null,8,["records"])]),default:k(()=>[(w(!0),I(V,null,J(g.records,H=>(w(),q(_,{record:H,key:`${H.date}_${H.title}`},null,8,["record"]))),128))]),_:2},1024)])]),_:2},1032,["title"]))),128))]),_:1})]),_:1}),h(f,{title:"場數",name:"frequency"},{default:k(()=>[O("div",Ba,[h(x,{"line-height":1,border:""},{default:k(()=>[h(f,{title:"全部"},{default:k(()=>[h(B,{id:"total",records:r.records},null,8,["records"]),Sa,h(D,{id:"js-frequency-all",records:r.records},null,8,["records"])]),_:1}),(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[O("div",Ma,E(g.id)+" 每個月各看了幾場電影",1),h(D,{id:`js-frequency-${g.id}`,records:g.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),h(f,{title:"時間",name:"time"},{default:k(()=>[O("div",Ta,[h(x,{"line-height":1,border:""},{default:k(()=>[h(f,{title:"全部"},{default:k(()=>[h(A,{id:"js-heatmap-all",records:r.records},null,8,["records"])]),_:1}),(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[h(A,{id:`js-heatmap-${g.id}`,records:g.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),h(f,{title:"影廳",name:"theater"},{default:k(()=>[O("div",Pa,[h(x,{"line-height":1,border:""},{default:k(()=>[h(f,{title:"全部"},{default:k(()=>[h(T,{id:"js-theater-bar-all",records:r.records},null,8,["records"])]),_:1}),(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[h(T,{id:`js-theater-bar-${g.id}`,records:g.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),h(f,{title:"版本",name:"version"},{default:k(()=>[O("div",Oa,[h(x,{"line-height":1,border:""},{default:k(()=>[h(f,{title:"全部"},{default:k(()=>[h(j,{id:"js-version-bar-all",records:r.records},null,8,["records"])]),_:1}),(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[h(j,{id:`js-version-bar-${g.id}`,records:g.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),h(f,{title:"國別",name:"area"},{default:k(()=>[O("div",Da,[h(x,{"line-height":1,border:""},{default:k(()=>[h(f,{title:"全部"},{default:k(()=>[h(L,{id:"js-area-pie-all",records:r.records},null,8,["records"])]),_:1}),(w(!0),I(V,null,J(r.arrayByYear,g=>(w(),q(f,{title:`${g.id}`,key:g.id},{default:k(()=>[h(L,{id:`js-area-pie-${g.id}`,records:g.records},null,8,["id","records"])]),_:2},1032,["title"]))),128))]),_:1})])]),_:1}),h(f,{title:"多刷",name:"secondtime"},{default:k(()=>[O("div",Aa,[h(ae,{modelValue:r.activeCollapse,"onUpdate:modelValue":d[0]||(d[0]=g=>r.activeCollapse=g),accordion:""},{default:k(()=>[(w(!0),I(V,null,J(r.arrayByTitle,g=>(w(),q(ee,{key:g.title,name:g.title},{title:k(()=>[O("div",Ea,[h(z,{class:"mr-2",type:"primary",plain:"",size:"medium"},{default:k(()=>[ge("x "+E(g.count),1)]),_:2},1024),O("span",Ra,E(g.title),1)])]),default:k(()=>[O("div",Ia,[(w(!0),I(V,null,J(g.records,H=>(w(),q(_,{record:H,key:`${H.date}_${H.title}`,hideTitle:"",size:"mini"},null,8,["record"]))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["active"])]),_:1},8,["loading"])],2)}const qa=G(xa,[["render",za]]);export{qa as default};
